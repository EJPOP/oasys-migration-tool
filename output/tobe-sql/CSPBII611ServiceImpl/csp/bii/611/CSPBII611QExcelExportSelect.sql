SELECT A.INFO_RLPR_NM /* 정보관계자명 */,
    SUBSTR(A.CRU_RRNO_SCRTY,1,6)||'-*******' AS SUBSTR /* 부분주민등록번호(뒷자리*처리) */,
    A.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */,
    F_CODE_NM('1000096', A.MTRL_DVSN_CD) AS F_CODE_NM /* 자료구분명 */,
    (SELECT B.PROF_RBPRSN_INST_NM AS PROF_RBPRSN_INST_NM /* 증명책임자기관명 */
FROM TBDCMACM015M B WHERE B.INST_CD = A.OGDP_INST_CD) AS TPOF_OGDP_INST_NM /* 소속기관명 * , A.DTIL_ORG_NM /* 세부기관명 */ , F_CODE_NM('1000058', A.WRK_RANK_CD) AS WRK_RANK_NM /* 근무직급명 */ , A.DTIL_RANK_NM /* 세부직급명 */ , A.JOCP_DT /* 입사일 */ , A.RTRM_YMD /* 퇴사일 */ , TO_CHAR(A.FRST_REG_DT, 'YYYYMMDD') AS FRST_REG_DT /* 최초등록일 */ , (SELECT COUNT(*)
FROM TBCSPBII620L B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY) AS FMY_CNT /* 가족수 */ FROM TBCSPBII600M A /* 공무원_공공직원 기본 */ WHERE 1=1 AND A.INFO_RLPR_NM LIKE #nam#||'%' AND A.CRU_RRNO_SCRTY LIKE #strEin# || '%' AND A.MTRL_DVSN_CD = #mtrlDvsnCd# AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII620L B WHERE B.FMY_NAM LIKE '%'||#fmyNam#||'%') AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII620L B WHERE B.FMY_EIN LIKE #strFmyEin# || '%') AND A.OGDP_INST_CD = #OGDP_INST_CD# AND A.WRK_RANK_CD >= #strRankCd# AND A.WRK_RANK_CD &lt;= #endRankCd# AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII630L B WHERE B.UNQ_CD = #unqCd#) AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII630L B WHERE B.WRDO_SC >= #strWrdoSc#) AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII630L B WHERE B.WRDO_SC &lt;= #endWrdoSc#) AND A.RSG_YN = #rsgYn# AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII600M B WHERE B.INFO_RLPR_NM LIKE '%'||#schTxt#||'%' UNION ALL SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII600M B WHERE F_CODE_NM('1000058',A.WRK_RANK_CD) LIKE '%'||#schTxt#||'%' UNION ALL SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII600M B WHERE (SELECT C.PROF_RBPRSN_INST_NM /* 증명책임자기관명 */
FROM TBDCMACM015M C WHERE C.INST_CD = A.OGDP_INST_CD) LIKE '%'||#schTxt#||'%' UNION ALL SELECT C.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII631C B , TBCSPBII630L C WHERE B.UNQ_TXT LIKE '%'||#schTxt#||'%' AND B.UNQ_CD = C.UNQ_CD) ORDER BY FRST_REG_DT DESC, RRN_SRNO