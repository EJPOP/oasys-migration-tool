SELECT DISTINCT /* 대상분류ID */,
    TG_CAT_NM /* 대상분류명 */,
    NVL(HIRK_TG_CAT_ID, '000000000') AS HIRK_TG_CAT_ID /* 상위대상분류ID */,
    ( SELECT AS TG_CAT_NM
FROM TBAEPGKM017M WHERE TG_CAT_ID = A.HIRK_TG_CAT_ID ) AS HIRK_TG_CAT_NM /* 상위대상분류명 */ ,USE_YN ,SRT_VAL_NM , (SELECT TO_CHAR(COUNT(*))
FROM TBAEPGKM017M WHERE HIRK_TG_CAT_ID = A.TG_CAT_ID ) AS CHILD_CNT FROM TBAEPGKM017M AS A WHERE 1=1 USE_YN = #USE_YN# START WITH TG_CAT_NM LIKE '%'||#KLD_CAT_NM#||'%' CONNECT BY PRIOR HIRK_TG_CAT_ID = TG_CAT_ID ORDER BY SRT_VAL_NM