SELECT D.SALL_CAT_TIT_NM /* 과제명 */,
    F_DPT_INFO(D.CHR_DPT_CD, '1') AS CNSTN_MBCMT_DEPT_NM /* 자문위원부서명 */,
    F_USR_INFO(D.PIC_ID, '2') AS PIC_NM /* 담당자명 */,
    #INFO_YR# AS INFO_YR /* 정보년도 */,
    #strSallCatSno# AS #STRSALLCATSNO#,
    D.FIRST_HALF_MDF_DH /* 상반기 */,
    D.SECOND_HALF_MDF_DH /* 하반기 */,
    D.FIRST_HALF_DOC_ID /* 상반기 문서ID */,
    D.SECOND_HALF_DOC_ID /* 하반기 문서 ID */,
    CASE WHEN D.FIRST_HALF_MDF_DH IS NOT NULL THEN (SELECT AS FIRST_HALF_MDF_DH
FROM TBBADCMR004D WHERE INFO_YR = #INFO_YR# AND SALL_CAT_SNO = #strSallCatSno# AND MAIN_PLCY_DTL_DVSN_CD ='b' AND REG_YMD = D.FIRST_HALF_MDF_DH) ELSE NULL END FIRST_HALF_MAIN_PLCY_DTL_TXT /*상반기 주요정책상세내용*/ , CASE WHEN SECOND_HALF_MDF_DH IS NOT NULL THEN (SELECT MAIN_PLCY_DTL_TXT
FROM TBBADCMR004D WHERE INFO_YR = #INFO_YR# AND SALL_CAT_SNO = #strSallCatSno# AND MAIN_PLCY_DTL_DVSN_CD ='b' AND REG_YMD = D.SECOND_HALF_MDF_DH) ELSE NULL END SECOND_HALF_MAIN_PLCY_DTL_TXT /*상반기 주요정책상세내용*/ , LAG_CAT_TIT_NM /*대분류 명*/ , MID_CAT_TIT_NM /*중분류명*/ , SUBJ_NO /*과제번호*/ , D.CPR_CHGR_ID , F_USR_INFO(D.CPR_CHGR_ID,'2')AS CPR_CHGR_NM , D.CPR_DPT_CD , F_DPT_INFO(D.CPR_DPT_CD,'1') AS CPR_DPT_NM , D.STD_CHGR_ID , F_USR_INFO(D.STD_CHGR_ID,'2')AS STD_CHGR_NM , D.STD_DPT_CD , F_DPT_INFO(D.STD_DPT_CD,'1') AS STD_DPT_NM , EPS_MNG_YN FROM ( SELECT A.SALL_CAT_TIT_NM /* 과제명 */,
    A.CHR_DPT_CD /* 담당부서 */,
    A.PIC_ID /* 담당자아이디 */,
    MAX(CASE WHEN B.REG_YMD BETWEEN #INFO_YR#||'0101' AND #INFO_YR#||'0401' THEN B.REG_YMD ELSE NULL END) AS REG_YMD /* 등록일자 */,
    MAX(CASE WHEN B.REG_YMD BETWEEN #INFO_YR#||'0402' AND #INFO_YR#||'1001' THEN B.REG_YMD ELSE NULL END) AS REG_YMD /* 등록일자 */,
    MAX(CASE WHEN B.REG_YMD BETWEEN #INFO_YR#||'0101' AND #INFO_YR#||'0401' THEN B.CVLCPT_DOC_ID ELSE NULL END) AS REG_YMD /* 등록일자 */,
    MAX(CASE WHEN B.REG_YMD BETWEEN #INFO_YR#||'0402' AND #INFO_YR#||'1001' THEN B.CVLCPT_DOC_ID ELSE NULL END) AS REG_YMD /* 등록일자 */,
    (SELECT AS LAG_CAT_TIT_NM
FROM TBBADCMR001M WHERE INFO_YR = #INFO_YR# AND LAG_CAT_SNO = A.LAG_CAT_SNO) AS LAG_CAT_TIT_NM /*대분류 명*/ , (SELECT MID_CAT_TIT_NM
FROM TBBADCMR002M WHERE INFO_YR = #INFO_YR# AND LAG_CAT_SNO = A.LAG_CAT_SNO AND MID_CAT_SNO = A.MID_CAT_SNO) AS MID_CAT_TIT_NM /*중분류명*/ , #INFO_YR# || '-' || A.LAG_CAT_SNO || '-' || A.MID_CAT_SNO || '-' || #strSallCatSno# AS SUBJ_NO /*과제번호*/ , A.CPR_CHGR_ID , A.CPR_DPT_CD , A.STD_CHGR_ID , A.STD_DPT_CD , NVL(A.EPS_MNG_YN,'N') AS EPS_MNG_YN FROM TBBADCMR003M A , TBBADCMR004D B WHERE A.INFO_YR = B.INFO_YR (+) AND A.SALL_CAT_SNO = B.SALL_CAT_SNO (+) AND A.INFO_YR = #INFO_YR# AND A.SALL_CAT_SNO = #strSallCatSno# AND B.MAIN_PLCY_DTL_DVSN_CD (+) = 'b' /*모니터링결과*/ GROUP BY A.SALL_CAT_TIT_NM, A.CHR_DPT_CD, A.PIC_ID, A.LAG_CAT_SNO, A.MID_CAT_SNO, A.CPR_CHGR_ID , A.CPR_DPT_CD, A.STD_CHGR_ID, A.STD_DPT_CD, A.EPS_MNG_YN )D