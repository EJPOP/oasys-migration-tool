SELECT D1.TPOF_KDCD /* 제보종류코드 */,
    F_CODE_NM('1000047', D1.TPOF_KDCD) AS F_CODE_NM,
    DECODE(D1.TPOF_ACTL_RCPT_NO,NULL,'',D1.TPOF_RCPT_YR||'-민원-'||D1.TPOF_ACTL_RCPT_NO) AS TPOF_ACTL_RCPT_NO /* 제보실제접수번호 */,
    D1.TPOF_RCPT_YR /* 제보접수년도 */,
    D1.TPOF_RCPT_NO /* 제보접수번호 */,
    D1.CVLCPT_CLM_SECD /* 민원청구구분코드 */,
    D1.TPOF_RCPT_DEPT_CD /* 제보접수부서코드 */,
    F_DPT_INFO(CRU_RCPT_DEPT_CD,'1')||' / '||D2.USER_NM AS F_DPT_INFO,
    D1.TPOF_CLR_ID /* 제보접수자아이디 */,
    D2.USER_NM /* 사용자명 */,
    TO_CHAR(D1.TPOF_RCPT_DT, 'YYYY-MM-DD HH:MM') AS CRU_RCPT_DT /* 부패접수일시 */,
    D1.TPOF_RCPT_PATH_SECD /* 제보접수경로구분코드 */,
    F_CODE_NM('1000056', D1.TPOF_RCPT_PATH_SECD) AS F_CODE_NM,
    F_CODE_NM('1000358', D1.TPOF_CLMT_KDCD) AS F_CODE_NM,
    D1.TPOF_CVLPR_NM /* 제보민원인명 */,
    D1.TPOF_RLS_YN /* 제보공개여부 */,
    F_CODE_NM('1000598', D1.TPOF_MNG_TPCD) AS F_CODE_NM,
    DECODE(D1.TPOF_CVLPR_ZIP,NULL,'','(우)'||D1.TPOF_CVLPR_ZIP||' '||D1.TPOF_CVLPR_ADDR||' '||D1.TPOF_CVLPR_DADDR) AS OTSD_EXPRT_ADDR /* 외부전문가주소 */,
    D1.TPOF_CVLPR_TELNO /* 제보민원인전화번호 */,
    D1.TPOF_CVLPR_MPNO /* 제보민원인휴대전화번호 */,
    F_CODE_NM('1000089',D1.TPOF_RSLT_NTFCTN_MTHD_SECD) AS F_CODE_NM,
    D3.TPOF_RPD_NM /* 제보피청구인명 */,
    D3.TPOF_OOFC_NM /* 제보근무처명 */,
    D3.TPOF_TELNO /* 제보전화번호 */,
    D3.TPOF_CVLPR_ADDR /* 제보민원인주소 */,
    D1.TPOF_STTS_SECD /* 제보상태구분코드 */,
    D1.TPOF_DOC_ID /* 제보문서아이디 */,
    D4.TPOF_CN /* 제보내용 */,
    D1.TPOF_NM /* 제보명 */,
    D7.TPOF_KND_SECD /* 제보종류구분코드 */,
    F_CODE_NM('1000599', D7.TPOF_KND_SECD) AS F_CODE_NM,
    D7.TPOF_PASV_PBADMS_YN /* 제보소극행정여부 */,
    CASE WHEN ( SELECT COUNT(FRS_MDM_ATCH_FILE_ID) AS FRS_MDM_ATCH_FILE_ID /* 포렌식매체첨부파일아이디 */
FROM ECM_FILE_LIST_VIEW2 X WHERE D1.TPOF_DOC_ID = X.CVLCPT_DOC_ID ) > 0 THEN '첨부파일 있음' ELSE '첨부파일 없음' END AS ATCH_YN ,D1.TPOF_CVLPR_CONM_NM ,D7.TPOF_DOC_SNDNG_DSCTN ,F_CODE_NM('1000732',D1.TPOF_REPT_YN) AS CRU_REPT_CVLCPT_YN FROM TB_CSPDCP101M D1 ,TBDCMACM001M D2 ,TB_CSPDCP103M D3 ,TB_CSPDCP102M D4 ,TB_CSPDCP201M D7 WHERE 1=1 AND D1.CVLCPT_CLM_SECD = D3.CVLCPT_CLM_SECD(+) AND D1.TPOF_RCPT_YR = D3.TPOF_RCPT_YR(+) AND D1.TPOF_RCPT_NO = D3.TPOF_RCPT_NO(+) AND D1.CVLCPT_CLM_SECD = D4.CVLCPT_CLM_SECD(+) AND D1.TPOF_RCPT_YR = D4.TPOF_RCPT_YR(+) AND D1.TPOF_RCPT_NO = D4.TPOF_RCPT_NO(+) AND D1.CVLCPT_CLM_SECD = D7.CVLCPT_CLM_SECD(+) AND D1.TPOF_RCPT_YR = D7.TPOF_RCPT_YR(+) AND D1.TPOF_RCPT_NO = D7.TPOF_RCPT_NO(+) AND D1.TPOF_CLR_ID = D2.USER_ID(+) AND D1.CVLCPT_CLM_SECD = #CLM_SECD# AND D1.TPOF_RCPT_YR = #CVLCPT_RCPT_YR# AND D1.TPOF_RCPT_NO = #CVLCPT_RCPT_RCPT#