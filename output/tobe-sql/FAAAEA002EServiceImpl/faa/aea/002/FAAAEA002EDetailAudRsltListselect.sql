SELECT D2.CVLCPT_ADT_YR /* 민원감사년도 */,
    D2.ADT_MTTR_CN||'('||D2.ADT_KND_NM||')' AS ADT_MTTR_CN /* 감사사항내용 */,
    D2.ADT_BGNG_YMD||' ~ '||D2.ADT_END_YMD||'('||D2.ADT_DCN||')' AS ADT_YMD /* 감사일자 */,
    CASE WHEN D1.CVLCPT_DOC_ID IS NOT NULL THEN '파일다운로드' ELSE '' END AS DOC_NM /* 문서명 */,
    D1.CVLCPT_DOC_ID /* 민원문서아이디 */,
    D1.DSPS_RQT_KND_CVN /* 처분요구종류코드값명 */,
    D1.DSPS_RQT_NM /* 처분요구명 */,
    D3.ORGTXT_CN /* 원문내용 */
FROM TBFAAAEA021M D1 INNER JOIN TBFAAAEA019M D2 ON D1.INST_CD = D2.INST_CD AND D1.CVLCPT_ADT_YR = D2.CVLCPT_ADT_YR AND D1.ADT_SQNO = D2.ADT_SQNO LEFT OUTER JOIN TBFAAAEA020L D3 ON D1.INST_CD = D3.INST_CD AND D1.CVLCPT_ADT_YR = D3.CVLCPT_ADT_YR AND D1.ADT_SQNO = D3.ADT_SQNO AND D1.EPFC_MNG_SQNO = D3.EPFC_MNG_SQNO WHERE D1.DEL_YN = 'N' AND D2.DEL_YN = 'N' AND D3.DEL_YN = 'N' AND D2.INST_CD = #INST_CD# AND D2.INST_CD LIKE REPLACE(#INST_CD#,'000','') || '%' AND D2.CVLCPT_ADT_YR >= #strAudSYrRslt# AND D2.CVLCPT_ADT_YR AND D2.ADT_MTTR_CN Like '%'||#strAudSbjRslt#||'%' ORDER BY D2.CVLCPT_ADT_YR DESC, D2.ADT_BGNG_YMD DESC