SELECT A.CVLCPT_CLM_SECD /* 민원청구구분코드 */,
    A.TPOF_RCPT_YR /* 제보접수년도 */,
    A.TPOF_RCPT_NO /* 제보접수번호 */,
    A.TPOF_RCPT_YR||'-민원-'||C.TPOF_ACTL_RCPT_NO AS NTFCTN_RCPT_SQNO /* 통보접수순번 */,
    TO_CHAR(C.TPOF_RCPT_DT,'YYYY-MM-DD') AS NTFCTN_RCPT_YMD /* 통보접수일자 */,
    DECODE(C.TPOF_CLMT_KDCD,'1',C.TPOF_CVLPR_NM,'2',C.TPOF_CVLPR_RPRSV_NM,'3',C.TPOF_CVLPR_RPRSV_NM,'4',C.TPOF_CVLPR_NM) AS TPOF_CVLPR_NM /* 제보민원인명 */,
    DECODE(C.TPOF_CLMT_KDCD,'2','(기업)','') AS TPOF_CLMT_KDCD /* 제보청구인종류코드 */,
    DECODE(C.TPOF_CVLPR_ZIP,NULL,'','(우)'||C.TPOF_CVLPR_ZIP||' '||C.TPOF_CVLPR_ADDR||' '||C.TPOF_CVLPR_DADDR) AS OTSD_EXPRT_ADDR /* 외부전문가주소 */,
    DECODE(C.TPOF_CVLPR_TELNO,NULL,C.TPOF_CVLPR_MPNO,C.TPOF_CVLPR_TELNO) AS CRU_TELNO /* 부패전화번호 */,
    C.TPOF_NM /* 제보명 */,
    'B1' AS TPOF_DOC_SECD /* 제보문서구분코드 */,
    'B2' AS CVPT_DOC_DVSN_CD2,
    'B3' AS CVPT_DOC_DVSN_CD3,
    'B4' AS CVPT_DOC_DVSN_CD4,
    Z.PROF_RBPRSN_INST_NM /* 증명책임자기관명 */,
    Z.COPT_SG_NM,
    #TPOF_CYCL# AS TPOF_CYCL /* 제보차수 */,
    CASE WHEN ( SELECT COUNT(1)
FROM TB_CSPDCP203M S1 WHERE 1=1 AND S1.TPOF_DOC_SECD = 'B1' AND S1.CVLCPT_RCPT_YR = A.TPOF_RCPT_YR AND S1.CLM_SECD = A.CVLCPT_CLM_SECD AND S1.TPOF_CYCL = #TPOF_CYCL# AND S1.CVLCPT_RCPT_RCPT = A.TPOF_RCPT_NO ) = 0 THEN ( SELECT S2.TPOF_DOC_CN /* 제보문서내용 */
FROM TB_CSPDCP203M S2 WHERE 1=1 AND S2.TPOF_DOC_SECD = 'A1' AND S2.CVLCPT_RCPT_YR = A.TPOF_RCPT_YR AND S2.CLM_SECD = A.CVLCPT_CLM_SECD AND S2.CVLCPT_RCPT_RCPT = A.TPOF_RCPT_NO) ELSE ( SELECT D1.TPOF_DOC_CN /* 제보문서내용 */
FROM TB_CSPDCP203M D1 WHERE A.CVLCPT_CLM_SECD = D1.CLM_SECD AND A.TPOF_RCPT_YR = D1.CVLCPT_RCPT_YR AND A.TPOF_RCPT_NO = D1.CVLCPT_RCPT_RCPT AND D1.TPOF_DOC_SECD = 'B1' AND D1.TPOF_CYCL = #TPOF_CYCL#) END AS TPOF_DOC_CN , ( SELECT D1.TPOF_DOC_CN /* 제보문서내용 */
FROM TB_CSPDCP203M D1 WHERE A.CVLCPT_CLM_SECD = D1.CLM_SECD AND A.TPOF_RCPT_YR = D1.CVLCPT_RCPT_YR AND A.TPOF_RCPT_NO = D1.CVLCPT_RCPT_RCPT AND D1.TPOF_DOC_SECD = 'B2' AND D1.TPOF_CYCL = #TPOF_CYCL#) AS CVPT_DOC_TXT2 , ( SELECT D1.TPOF_DOC_CN /* 제보문서내용 */
FROM TB_CSPDCP203M D1 WHERE A.CVLCPT_CLM_SECD = D1.CLM_SECD AND A.TPOF_RCPT_YR = D1.CVLCPT_RCPT_YR AND A.TPOF_RCPT_NO = D1.CVLCPT_RCPT_RCPT AND D1.TPOF_DOC_SECD = 'B3' AND D1.TPOF_CYCL = #TPOF_CYCL#) AS CVPT_DOC_TXT3 , ( SELECT D1.TPOF_DOC_CN /* 제보문서내용 */
FROM TB_CSPDCP203M D1 WHERE A.CVLCPT_CLM_SECD = D1.CLM_SECD AND A.TPOF_RCPT_YR = D1.CVLCPT_RCPT_YR AND A.TPOF_RCPT_NO = D1.CVLCPT_RCPT_RCPT AND D1.TPOF_DOC_SECD = 'B4' AND D1.TPOF_CYCL = #TPOF_CYCL#) AS CVPT_DOC_TXT4 , D.TPOF_OPM_ATRZ_STTS_SECD , E.TPOF_OPM_CN , D.TPOF_OPM_SQNO , F.FL_RUT_NM , F.SYS_FL_NM , F_CODE_NM('1000370','E')||' (제'||C.TPOF_RCPT_YR||'-민원-'||C.TPOF_ACTL_RCPT_NO||'호) 보고' AS TITLE ,H.TPOF_RSLT_RPTP_PRCS_RSLT_SECD FROM TB_CSPDCP201M A , TB_CSPDCP101M C ,( SELECT Z.CVLCPT_CLM_SECD /* 민원청구구분코드 */,
    Z.TPOF_RCPT_YR /* 제보접수년도 */,
    Z.TPOF_RCPT_NO /* 제보접수번호 */,
    CASE WHEN Z.TPOF_OCRN_INST_CD = '10' THEN F_ORG_INFO(INST_CD,'1') ELSE Z.TPOF_INST_NM END AS PROF_RBPRSN_INST_NM /* 증명책임자기관명 */,
    CASE WHEN Z.TPOF_OCRN_INST_CD = '10' THEN F_ORG_HRK_NM(SLCT_JRSD_SG_SECD) ELSE NULL END AS TPOF_OCRN_INST_CD /* 제보발생기관코드 */
FROM TBCSPDCP206L Z WHERE Z.CLM_SECD = #CLM_SECD# AND Z.CVLCPT_RCPT_YR = #CVLCPT_RCPT_YR# AND Z.CVLCPT_RCPT_RCPT = #CVLCPT_RCPT_RCPT# AND Z.CVLCPT_INST_DSCTN_SECD ='1' AND Z.TPOF_PRCS_INST_SQNO = (SELECT MIN(S1.TPOF_PRCS_INST_SQNO) AS TPOF_PRCS_INST_SQNO /* 제보처리기관순번 */
FROM TBCSPDCP206L S1 WHERE S1.CLM_SECD = #CLM_SECD# AND S1.CVLCPT_RCPT_YR = #CVLCPT_RCPT_YR# AND S1.CVLCPT_RCPT_RCPT = #CVLCPT_RCPT_RCPT# AND S1.CVLCPT_INST_DSCTN_SECD ='1' ) ) Z , TB_CSPDCP301M D , TB_CSPDCP302M E , TBDCMACM103L F , TB_CSPDCP401H G , TB_CSPDCP402L H WHERE 1=1 AND A.CVLCPT_CLM_SECD = #CLM_SECD# AND A.TPOF_RCPT_YR = #CVLCPT_RCPT_YR# AND A.TPOF_RCPT_NO = #CVLCPT_RCPT_RCPT# AND A.CVLCPT_CLM_SECD = C.CVLCPT_CLM_SECD AND A.TPOF_RCPT_YR = C.TPOF_RCPT_YR AND A.TPOF_RCPT_NO = C.TPOF_RCPT_NO AND A.CVLCPT_CLM_SECD = Z.CLM_SECD(+) AND A.TPOF_RCPT_YR = Z.CVLCPT_RCPT_YR(+) AND A.TPOF_RCPT_NO = Z.CVLCPT_RCPT_RCPT(+) AND A.CVLCPT_CLM_SECD = D.CVLCPT_CLM_SECD(+) AND A.TPOF_RCPT_YR = D.TPOF_RCPT_YR(+) AND A.TPOF_RCPT_NO = D.TPOF_RCPT_NO(+) AND D.CVLCPT_CLM_SECD = E.CVLCPT_CLM_SECD(+) AND D.TPOF_RCPT_YR = E.TPOF_RCPT_YR(+) AND D.TPOF_RCPT_NO = E.TPOF_RCPT_NO(+) AND D.TPOF_OPM_SQNO = E.TPOF_OPM_SQNO(+) AND D.TPOF_AVTSMT_SECD(+) = 'E' AND D.TPOF_CYCL(+) = #TPOF_CYCL# AND D.TPOF_ONR_DOC_MNG_CARD_ID = F.ONR_DOC_MNG_CARD_ID(+) AND A.CVLCPT_CLM_SECD = G.CVLCPT_CLM_SECD AND A.TPOF_RCPT_YR = G.TPOF_RCPT_YR AND A.TPOF_RCPT_NO = G.TPOF_RCPT_NO AND G.CVLCPT_CLM_SECD = H.CVLCPT_CLM_SECD AND G.TPOF_RCPT_YR = H.TPOF_RCPT_YR AND G.TPOF_RCPT_NO = H.TPOF_RCPT_NO AND G.TPOF_CYCL = H.TPOF_CYCL