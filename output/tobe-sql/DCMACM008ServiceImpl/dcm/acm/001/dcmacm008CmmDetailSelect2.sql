SELECT TASK_SECD /* 업무구분코드 */,
    FUNC_CAT_CD||TASK_SECD AS FUNC_CAT_CD,
    CMM_CD_DVSN_CD,
    CD,
    CD_NM,
    USE_YN /* 사용여부 */,
    PRD_USE_YN,
    BGNG_YMD /* 시작일자 */,
    END_YMD /* 종료일자 */,
    OTPT_SEQ,
    USR_DFN_TXT_1,
    USR_DFN_TXT_2,
    NVL2(T1.MSUM_Y,T1.MSUM_Y,0) AS NVL2,
    NVL2(T1.MSUM_K,T1.MSUM_K,0) AS NVL2,
    NVL2(T1.MSUM_F,T1.MSUM_F,0) AS NVL2,
    NVL2(T1.MSUM_N,T1.MSUM_N,0) AS NVL2,
    USR_DFN_TXT_7,
    USR_DFN_TXT_8,
    USR_DFN_TXT_9,
    USR_DFN_TXT_10,
    BK_CD_DVSN_NM,
    BK_CD_NM
FROM TBDCMACM013C, ( SELECT A.MNT_DVSN_CD AS MNT_DVSN_CD,
    SUM(DECODE(A.PC_USE_DVSN_CD,'Y',1,0)) + NVL2(C.M2_Y,C.M2_Y,0) AS PC_USE_DVSN_CD /* 사용 */,
    SUM(DECODE(A.PC_USE_DVSN_CD,'K',1,0)) + NVL2(C.M2_K,C.M2_K,0) AS PC_USE_DVSN_CD /* 보관 */,
    SUM(DECODE(A.PC_USE_DVSN_CD,'F',1,0)) + NVL2(C.M2_F,C.M2_F,0) AS PC_USE_DVSN_CD /* 불용 */,
    SUM(DECODE(A.PC_USE_DVSN_CD,'N',1,0)) + NVL2(C.M2_N,C.M2_N,0) AS PC_USE_DVSN_CD /* 폐기 */
FROM TBCSPIIT005M A /*PC장비관리테이블*/ ,TBDCMACM013C B /*공통코드테이블*/ ,(SELECT A1.MNT_DVSN_CD2,
    sum(DECODE(A1.PC_USE_DVSN_CD,'Y',1,0)) AS PC_USE_DVSN_CD,
    sum(DECODE(A1.PC_USE_DVSN_CD,'K',1,0)) AS PC_USE_DVSN_CD,
    sum(DECODE(A1.PC_USE_DVSN_CD,'F',1,0)) AS PC_USE_DVSN_CD,
    sum(DECODE(A1.PC_USE_DVSN_CD,'N',1,0)) AS PC_USE_DVSN_CD
FROM TBCSPIIT005M A1 ,TBDCMACM013C B1 WHERE 1=1 AND B1.CMM_CD_DVSN_CD(+) = #strCdDvsn# AND A1.MNT_DVSN_CD2 = B1.CD group by MNT_DVSN_CD2 )C WHERE 1=1 AND B.CMM_CD_DVSN_CD(+) = #strCdDvsn# AND A.MNT_DVSN_CD = B.CD AND A.MNT_DVSN_CD = C.MNT_DVSN_CD2(+) GROUP BY MNT_DVSN_CD,C.M2_Y,C.M2_K,C.M2_F,C.M2_N )T1 WHERE 1=1 AND CD <>'000000000' AND CD = T1.MNT_DVSN_CD(+) AND CMM_CD_DVSN_CD = #strCdDvsn# ORDER BY CD