MERGE INTO TB_CSPDCP103M A USING ( SELECT #REQ_DVSN_CD# AS CLM_SECD /* 청구구분코드 */,
    #ACP_YR# AS CVLCPT_RCPT_YR /* 민원접수년도 */,
    #CVPT_ACP_NO# AS CVLCPT_RCPT_RCPT /* 민원접수번호 */
FROM DUAL ) B ON ( A.CVLCPT_CLM_SECD = B.CLM_SECD AND A.TPOF_RCPT_YR = B.CVLCPT_RCPT_YR AND A.TPOF_RCPT_NO = B.CVLCPT_RCPT_RCPT ) WHEN MATCHED THEN UPDATE SET SLCT_RPD_NM = #SLCT_RPD_NM# /* 청탁피청구인명 */, SLCT_OOFC_NM = #SLCT_OOFC_NM# /* 청탁근무처명 */, CRU_TELNO = DECODE(#CLM_TNB1#,NULL,'',#CLM_TNB1#||'-'||#CLM_TNB2#||'-'||#CLM_TNB3#) /* 부패전화번호 */, CRU_ZIP = #CRU_ZIP# /* 부패우편번호 */, OTSD_EXPRT_ADDR = #OTSD_EXPRT_ADDR# /* 외부전문가주소 */, CRU_CVLPR_DADDR = #CRU_CVLPR_DADDR# /* 부패민원인상세주소 */, LAST_USER_ID = #LAST_USER_ID# /* 최종사용자아이디 */, LAST_PRCS_DEPT_CD = #LAST_PRCS_DEPT_CD# /* 최종처리부서코드 */, LAST_MENU_ID = #LAST_MENU_ID# /* 최종메뉴아이디 */, LAST_MDFCN_DT = SYSDATE WHEN NOT MATCHED THEN INSERT INSERT ( CLM_SECD ,CVLCPT_RCPT_YR ,CVLCPT_RCPT_RCPT ,SLCT_RPD_NM ,SLCT_OOFC_NM ,CRU_TELNO ,CRU_ZIP ,OTSD_EXPRT_ADDR ,CRU_CVLPR_DADDR ,FRST_USER_ID ,LAST_USER_ID ,LAST_PRCS_DEPT_CD ,LAST_MENU_ID ,FRST_REG_DT ,LAST_MDFCN_DT ) VALUES ( #REQ_DVSN_CD# ,#ACP_YR# ,#CVPT_ACP_NO# ,#SLCT_RPD_NM# ,#SLCT_OOFC_NM# ,DECODE(#CLM_TNB1#,NULL,'',#CLM_TNB1#||'-'||#CLM_TNB2#||'-'||#CLM_TNB3#) ,#CRU_ZIP# ,#OTSD_EXPRT_ADDR# ,#CRU_CVLPR_DADDR# ,NVL(#FRT_USR_ID#,#LAST_USER_ID#) ,#LAST_USER_ID# ,#LAST_PRCS_DEPT_CD# ,#LAST_MENU_ID# ,SYSDATE ,SYSDATE ) /* 최종수정일시 */