SELECT TMA.BZTRP_YR /* 출장년도 */,
    TMA.BZTRP_SQNO /* 출장순번 */,
    TMA.FT_SQNO /* 출장조순번 */,
    TMA.BZTRVR_ALTMNT_SQNO /* 출장자배정순번 */,
    TMA.EMP_SECD /* 직원구분코드 */,
    TMA.BZTRVR_ENO /* 출장자직원전산번호 */,
    TMA.BZTRVR_NM /* 출장자명 */,
    TMA.OGDP_DEPT_CD /* 소속부서코드 */,
    TMA.BZTRVR_JBGD_SECD /* 출장자직급구분코드 */,
    TMA.DPTRE_RGN_SECD /* 출발지역구분코드 */,
    TMA.BZTRP_BGNG_YMD /* 출장시작일자 */,
    TMA.BZTRP_END_YMD /* 출장종료일자 */
FROM TB_BADDED006L PTD , TB_BADDED005L TMA WHERE PTD.BZTRP_YR = TMA.BZTRP_YR AND PTD.BZTRP_SQNO = TMA.BZTRP_SQNO AND PTD.FT_SQNO = TMA.FT_SQNO AND PTD.BZTRVR_ALTMNT_SQNO = TMA.BZTRVR_ALTMNT_SQNO AND TMA.BZTRVR_ENO =#BZTRVR_ENO# AND ( (PTD.BZTRP_BGNG_YMD BETWEEN #BZT_STR_DT# AND #BZT_END_DT#) OR (PTD.BZTRP_END_YMD BETWEEN #BZT_STR_DT# AND #BZT_END_DT#) OR (PTD.BZTRP_BGNG_YMD > #BZT_STR_DT# AND PTD.BZTRP_END_YMD < #BZT_END_DT#) ) AND NOT EXISTS ( SELECT *
FROM TB_BADDED006L WHERE 1=1 AND BZTRP_YR = PTD.BZTRP_YR AND BZTRP_SQNO = PTD.BZTRP_SQNO AND FT_SQNO = PTD.FT_SQNO AND BZTRP_YR = #BZTRP_YR# AND BZTRP_SQNO = #BZTRP_SQNO# AND FT_SQNO = #FT_SQNO# )