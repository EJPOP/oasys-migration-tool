INSERT INTO TB_BADDED019H(BZTRP_YR, BZTRP_SQNO, BZTRVR_ENO, BTEXP_SQNO, BZTRP_CLCLN_SQNO, CLCLN_YN, CLCLN_CYCL, CLCLN_YMD, INST_CD, RGN_CD /* 지역코드 */, RGN_SECD, BZTRP_BGNG_YMD, BZTRP_END_YMD, BZTRP_DCN, ADT_DCN, LDG_DCN, BTEXP_CRTR_AMT, LDG_CST, BZTRP_TRVEXP_FDEXP, SPM_CST, LEAD_CST, CMPTN_YN, ADT_ACTV_ACTC_AMT, CPRG_FARE_CST /* 수도권운임비 - 2015.05.04 yyh */, FRST_USER_ID, LAST_USER_ID, LAST_PRCS_DEPT_CD, LAST_MENU_ID, FRST_REG_DT, LAST_MDFCN_DT) SELECT D1.BZTRP_YR /* 출장년도 */,
    D1.BZTRP_SQNO /* 출장순번 */,
    D1.BZTRVR_ENO /* 출장자직원전산번호 */,
    D1.BTEXP_SQNO /* 출장비순번 */,
    #BZT_AJT_SNO# AS BZTRP_CLCLN_SQNO /* 출장정산순번 */,
    NVL(#AJT_YN#,'N') AS CLCLN_YN /* 정산여부 */,
    CASE WHEN #AJT_YN# IS NOT NULL THEN '1' ELSE '' AS #AJT_YN#,
    CASE WHEN #AJT_YN# IS NOT NULL THEN TO_CHAR(SYSDATE,'YYYYMMDD') ELSE NULL AS #AJT_YN#,
    D1.INST_CD /* 기관코드 */,
    D1.RGN_CD /* 지역코드 */,
    D1.RGN_SECD /* 지역구분코드 */,
    D1.BZTRP_BGNG_YMD /* 출장시작일자 */,
    D1.BZTRP_END_YMD /* 출장종료일자 */,
    D1.BZTRP_DCN /* 출장일수 */,
    D1.ADT_DCN /* 감사일수 */,
    D1.LDG_DCN /* 숙박일수 */,
    D1.BTEXP_CRTR_AMT /* 출장비기준금액 */,
    D1.LDG_CST /* 숙박비용 */,
    D1.BZTRP_TRVEXP_FDEXP /* 출장여비식비 */,
    D1.SPM_CST /* 보충비용 */,
    D1.LEAD_CST /* 지휘비용 */,
    D1.CMPTN_YN /* 완료여부 */,
    D1.ADT_ACTV_ACTC_AMT /* 감사활동수용금액 */,
    D1.CPRG_FARE_CST /* 수도권운임비용 */,
    #FRT_USR_ID# AS FRST_USER_ID /* 최초사용자아이디 */,
    #FNL_USR_ID# AS LAST_USER_ID /* 최종사용자아이디 */,
    #FNL_DEAL_DPT_CD# AS LAST_PRCS_DEPT_CD /* 최종처리부서코드 */,
    #FNL_MNU_ID# AS LAST_MENU_ID /* 최종메뉴아이디 */,
    SYSDATE,
    SYSDATE
FROM TB_BADDED011L D1 WHERE 1=1 AND D1.BZTRP_YR = #BZTRP_YR# AND D1.BZTRP_SQNO = #BZTRP_SQNO# AND D1.CAL_YN = 'Y' AND D1.BZTRVR_ENO = #BZTRVR_ENO# UNION ALL SELECT D1.BZTRP_YR /* 출장년도 */,
    D1.BZTRP_SQNO /* 출장순번 */,
    D1.BZTRVR_ENO /* 출장자직원전산번호 */,
    0,
    #BZT_AJT_SNO# AS BZTRP_CLCLN_SQNO /* 출장정산순번 */,
    NVL(#AJT_YN#,'N') AS CLCLN_YN /* 정산여부 */,
    CASE WHEN #AJT_YN# IS NOT NULL THEN '1' ELSE '' AS #AJT_YN#,
    CASE WHEN #AJT_YN# IS NOT NULL THEN TO_CHAR(SYSDATE,'YYYYMMDD') ELSE NULL AS #AJT_YN#,
    '',
    '',
    '',
    '',
    '',
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    'Y',
    0,
    0 /* 수도권운임비 - 2015.05.04 yyh */,
    #FRT_USR_ID# AS FRST_USER_ID /* 최초사용자아이디 */,
    #FNL_USR_ID# AS LAST_USER_ID /* 최종사용자아이디 */,
    #FNL_DEAL_DPT_CD# AS LAST_PRCS_DEPT_CD /* 최종처리부서코드 */,
    #FNL_MNU_ID# AS LAST_MENU_ID /* 최종메뉴아이디 */,
    SYSDATE,
    SYSDATE
FROM ( SELECT BZTRP_YR /* 출장년도 */,
    BZTRP_SQNO /* 출장순번 */,
    BZTRVR_ENO /* 출장자직원전산번호 */
FROM TBBADDED011L D1 WHERE 1=1 AND D1.BZTRP_YR = #BZTRP_YR# AND D1.BZTRP_SQNO = #BZTRP_SQNO# AND D1.CAL_YN = 'N' AND D1.BZTRVR_ENO = #BZTRVR_ENO# MINUS SELECT BZTRP_YR /* 출장년도 */,
    BZTRP_SQNO /* 출장순번 */,
    BZTRVR_ENO /* 출장자직원전산번호 */
FROM TBBADDED011L D1 WHERE 1=1 AND D1.BZTRP_YR = #BZTRP_YR# AND D1.BZTRP_SQNO = #BZTRP_SQNO# AND D1.CAL_YN = 'Y' AND D1.BZTRVR_ENO = #BZTRVR_ENO# ) D1