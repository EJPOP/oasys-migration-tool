WITH TREE_QUERY( SYS_DVSN_CD,MENU_ID, MENU_NM, HIRK_MNU_ID, MNU_DES, SORT, MNU_FULL_NAME, MENU_SQNO, MNU_URL, ICN_RUT) AS ( SELECT SYS_DVSN_CD,
    MENU_ID /* 메뉴아이디 */,
    MENU_NM /* 메뉴명 */,
    '#' AS HIRK_MNU_ID,
    MNU_DES,
    ''||LPAD(MENU_SQNO,3,0) AS LPAD,
    ''||MENU_NM AS MENU_NM /* 메뉴명 */,
    MENU_SQNO /* 메뉴순번 */,
    MNU_URL,
    ICN_RUT
FROM TBAWUSYMAMP001M T1 WHERE NVL(DEL_YN,'N') = 'N' AND HIRK_MNU_ID = #{hirkMnuId} AND NVL(T1.SCR_DSPY_DVSN_CD ,'A') IN ('A','CMS') UNION ALL SELECT T1.SYS_DVSN_CD,
    T1.MENU_ID /* 메뉴아이디 */,
    T1.MENU_NM /* 메뉴명 */,
    T1.HIRK_MNU_ID,
    T1.MNU_DES,
    T2.SORT || ' > ' || LPAD(T1.MENU_SQNO,3,0) AS SORT,
    T2.MNU_FULL_NAME || ' > ' || T1.MENU_NM AS MNU_FULL_NAME,
    T1.MENU_SQNO /* 메뉴순번 */,
    T1.MNU_URL,
    T1.ICN_RUT
FROM TBAWUSYMAMP001M T1 ,TREE_QUERY T2 WHERE T1.HIRK_MNU_ID = T2.MNU_ID AND NVL(DEL_YN,'N') = 'N' AND NVL(T1.SCR_DSPY_DVSN_CD ,'A') IN ('A','CMS') ) SELECT T1.SYS_DVSN_CD,
    T1.MENU_ID AS "id" AS MENU_ID /* 메뉴아이디 */,
    T1.MENU_ID AS "data" AS MENU_ID /* 메뉴아이디 */,
    T1.MENU_NM "text" AS MENU_NM /* 메뉴명 */,
    NVL(T1.HIRK_MNU_ID, '#') AS "parent",
    T1.MNU_DES,
    T1.SORT,
    T1.MNU_FULL_NAME,
    NVL(T1.MENU_SQNO,9999) AS "orderNum" AS MENU_SQNO /* 메뉴순번 */,
    T1.MNU_URL as "pattern",
    T1.ICN_RUT as "icon"
FROM TREE_QUERY T1 ORDER BY SORT