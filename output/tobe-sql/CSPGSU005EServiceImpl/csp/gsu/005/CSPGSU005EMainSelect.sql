SELECT DECODE(A.PRPS_ACP_NO,NULL,'',PRPS_YE||'-'||A.PRPS_ACP_NO) AS PRPS_ACP_NO /* 접수번호 */,
    A.PRPS_TIT_NM /* 제안제목 */,
    F_USR_INFO(A.PRPS_PEN_CNB,'2') AS F_USR_INFO /* 제안자명 */,
    A.PRPS_PEN_CNB /* 제안자전산번호 */,
    A.NTFCTN_RCPT_YMD /* 통보접수일자 */,
    A.EXAM_DPT_CD /* 검토부서코드 */,
    F_DPT_INFO(A.EXAM_DPT_CD,'1') AS F_DPT_INFO,
    A.PRPS_STA_CD /* 제안상태코드 */,
    A.PRPS_YE /* 제안연도 */,
    A.PRPS_SLN /* 제안연번 */,
    A.ATRZ_DOC_NO /* 결재문서번호 */,
    (SELECT Z.CVLCPT_DOC_ID AS CVLCPT_DOC_ID /* 민원문서아이디 */
FROM TBCSPGSU004M Z WHERE Z.PRPS_YE = A.PRPS_YE AND Z.PRPS_SLN = A.PRPS_SLN AND Z.PRPS_ATT_FL_DVSN_CD = '1') AS CVLCPT_DOC_ID /*첨부파일 문서*/ ,F_DPT_INFO(A.PRPS_DPT_CD,'1') AS PRPS_DPT_CD ,A.RET_TXT ,A.EXAM_DT FROM TBCSPGSU001M A /*도서자료기본*/ WHERE 1=1 AND A.PRPS_STA_CD &gt;= 'B' AND A.PRPS_STA_CD = #strPRPS_STA_CD# AND (A.NTFCTN_RCPT_YMD &gt;= #strACP_DTS# OR A.NTFCTN_RCPT_YMD IS NULL) AND (A.NTFCTN_RCPT_YMD &lt;= #strACP_DTE# OR A.NTFCTN_RCPT_YMD IS NULL) AND A.PRPS_PEN_CNB = #strPRPS_PEN_CNB# AND A.PRPS_TIT_NM LIKE '%'||#strPRPS_TIT_NM#||'%' ORDER BY TO_NUMBER(A.PRPS_YE) DESC , TO_NUMBER(A.PRPS_ACP_NO) DESC