SELECT A.*,
    A.JBPS_NM || ' / ' || F_CODE_NM('1000173', A.CLSS_CD) AS JBPS_NM /* 직위명 */,
    F_CODE_NM('1000084', A.EPS_MNG_DVSN_CD) AS F_CODE_NM /* 중점관리구분명 */,
    F_CODE_NM('1000403',A.RSG_YN) AS F_CODE_NM,
    (SELECT B.PROF_RBPRSN_INST_NM AS PROF_RBPRSN_INST_NM /* 증명책임자기관명 */
FROM TBDCMACM015M B WHERE B.INST_CD = A.OGDP_INST_CD) AS TPOF_OGDP_INST_NM /* 소속기관명 */ , CASE WHEN (SELECT 1
FROM TB_BADEAR007M B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) = 1 THEN '처분 ' END || CASE WHEN (SELECT 1
FROM TB_CSPBII130L B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) = 1 THEN '정보 ' END || CASE WHEN (SELECT 1
FROM TBFAAAEA032M B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) = 1 THEN '자체 ' END || CASE WHEN (SELECT 1
FROM TB_BADGDA001L B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) = 1 THEN '통보 ' END || CASE WHEN (SELECT 1
FROM TBCSPBII401L B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) = 1 THEN '기타 ' END || CASE WHEN (SELECT 1
FROM TBCSPBII351L B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) = 1 THEN '징계 ' END || CASE WHEN (SELECT 1
FROM TBCSPBII500L B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) = 1 THEN '직무 ' END || CASE WHEN (SELECT 1
FROM TBCSPBII630L B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) = 1 THEN '특이 ' END AS UNQ_LIST ,(SELECT F_CODE_NM('1000908',S1.DBT_PSN_DVSN_CD) AS F_CODE_NM
FROM TBCSPBII380M S1 WHERE S1.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY) AS DBT_PSN_DVSN_NM FROM (SELECT T.*,
    ROWNUM
FROM (SELECT DT.*,
    COUNT(1) OVER() AS 1
FROM (SELECT /* csp.bii.service.impl.CSPBII311QServiceImpl.CSPBII311QMainSelect */ A.INFO_RLPR_NM AS INFO_RLPR_NM /* 정보관계자명 */,
    DECODE(CVLCPT_DOC_ID, NULL, NULL, '사진보기') AS CVLCPT_DOC_ID /* 민원문서아이디 */,
    SUBSTR(A.CRU_RRNO_SCRTY,1,6)||'-*******' AS SUBSTR /* 부분주민등록번호 */,
    A.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */,
    A.JBPS_NM /* 직위명 */,
    A.CLSS_CD /* 계급코드 */,
    A.EPS_MNG_DVSN_CD /* 중점관리구분코드 */,
    A.OGDP_INST_CD /* 소속기관코드 */,
    A.RSG_YN
FROM TBCSPBII300M A WHERE 1=1 AND A.INFO_RLPR_NM LIKE #nam#||'%' AND A.CRU_RRNO_SCRTY LIKE #strEin# || '%' AND A.OGDP_INST_CD LIKE SUBSTR(#OGDP_INST_CD#, 0, INSTR(#OGDP_INST_CD#, '000') -1) || '%' AND A.OGDP_INST_CD = #OGDP_INST_CD# AND A.OGDP_INST_CD IN (SELECT B.INST_CD /* 기관코드 */
FROM TBDCMACM015M B WHERE B.INST_SECD = #INST_SECD#) AND CASE WHEN SUBSTR(A.CRU_RRNO_SCRTY, 7, 1) IN ('1', '2') THEN '19' WHEN SUBSTR(A.CRU_RRNO_SCRTY, 7, 1) IN ('3', '4') THEN '20' END || SUBSTR(A.CRU_RRNO_SCRTY, 1, 6) >= #strBtdt# AND CASE WHEN SUBSTR(A.CRU_RRNO_SCRTY, 7, 1) IN ('1', '2') THEN '19' WHEN SUBSTR(A.CRU_RRNO_SCRTY, 7, 1) IN ('3', '4') THEN '20' END || SUBSTR(A.CRU_RRNO_SCRTY, 1, 6) &lt;= #endBtdt# AND A.JBPS_NM LIKE '%'||#pstNm#||'%' AND A.CLSS_CD = #clssCd# AND A.CRSP_OD_RANK_CD >= #strRankCd# AND A.CRSP_OD_RANK_CD &lt;= #endRankCd# AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII320L B WHERE B.SCHL_NM LIKE '%' || #schlNm# || '%') AND A.CRU_RRNO_SCRTY IN (/* 처분요구 관련자 */ SELECT C.RRNO_SCRTY /* 주민등록번호보안 */
FROM TBBADEAR001M B , TBBADEAR007M C WHERE B.CVLCPT_ADT_YR = C.CVLCPT_ADT_YR AND B.ADT_NO = C.ADT_NO AND B.DSPS_RQT_SQNO = C.DSPS_RQT_SQNO AND B.DSPS_RQT_NM LIKE '%' || #schTxt# || '%' UNION ALL /* 감사정보 관련자 */ SELECT C.RRNO_SCRTY /* 주민등록번호보안 */
FROM TBCSPBII100M B , TBCSPBII130L C WHERE B.INFO_YR = C.INFO_YR AND B.FRS_MDM_SQNO = C.FRS_MDM_SQNO AND B.DSPS_RQT_NM LIKE '%' || #schTxt# || '%' UNION ALL /* 자체감사 관련자 */ SELECT C.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBFAAAEA019M B , TBFAAAEA032M C WHERE B.INST_CD = C.INST_CD AND B.CVLCPT_ADT_YR = C.CVLCPT_ADT_YR AND B.ADT_SQNO = C.ADT_SQNO AND B.ADT_MTTR_CN LIKE '%' || #schTxt# || '%' UNION ALL /* 통보사항 관련자 */ SELECT C.RRNO_SCRTY /* 주민등록번호보안 */
FROM TBBADGDA001M B , TBBADGDA001L C WHERE B.INST_CD = C.INST_CD AND B.NTFCTN_SECD = C.NTFCTN_SECD AND B.LINK_YR = C.LINK_YR AND B.SRECS_DEPT_CD = C.SRECS_DEPT_CD AND B.NTFCTN_SQNO = C.NTFCTN_SQNO AND B.RSCH_ASMT_TTL LIKE '%' || #schTxt# || '%' UNION ALL /* 기타정보 관련자 */ SELECT C.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII400L B , TBCSPBII401L C WHERE B.INFO_YR = C.INFO_YR AND B.FRS_MDM_SQNO = C.FRS_MDM_SQNO AND C.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY ) AND A.EPS_MNG_DVSN_CD = #tgDvsnCd# AND NVL(A.RSG_YN, 'N') = #rsgYn# AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII630L B WHERE B.UNQ_CD = #unqCd#) AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII630L B WHERE B.WRDO_SC >= #strWrdoSc#) AND A.CRU_RRNO_SCRTY IN (SELECT B.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */
FROM TBCSPBII630L B WHERE B.WRDO_SC &lt;= #endWrdoSc#) AND (#relInspMtrlCnd#='AND' $relInspMtrlCnd$ EXISTS (SELECT 1
FROM TBBADEAR001M B , TBBADEAR007M C WHERE B.CVLCPT_ADT_YR = C.CVLCPT_ADT_YR AND B.ADT_NO = C.ADT_NO AND B.DSPS_RQT_SQNO = C.DSPS_RQT_SQNO AND C.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) $relInspMtrlCnd$ EXISTS (SELECT 1
FROM TBCSPBII100M B , TBCSPBII130L C WHERE B.INFO_YR = C.INFO_YR AND B.FRS_MDM_SQNO = C.FRS_MDM_SQNO AND C.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) $relInspMtrlCnd$ EXISTS (SELECT 1
FROM TBFAAAEA019M B , TBFAAAEA032M C WHERE B.INST_CD = C.INST_CD AND B.CVLCPT_ADT_YR = C.CVLCPT_ADT_YR AND B.ADT_SQNO = C.ADT_SQNO AND C.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) $relInspMtrlCnd$ EXISTS (SELECT 1
FROM TBBADGDA001M B , TBBADGDA001L C WHERE B.INST_CD = C.INST_CD AND B.NTFCTN_SECD = C.NTFCTN_SECD AND B.LINK_YR = C.LINK_YR AND B.SRECS_DEPT_CD = C.SRECS_DEPT_CD AND B.NTFCTN_SQNO = C.NTFCTN_SQNO AND C.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) $relInspMtrlCnd$ EXISTS (SELECT 1
FROM TBCSPBII400L B , TBCSPBII401L C WHERE B.INFO_YR = C.INFO_YR AND B.FRS_MDM_SQNO = C.FRS_MDM_SQNO AND C.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) $relInspMtrlCnd$ EXISTS (SELECT 1
FROM TBCSPBII500L B WHERE B.CRU_RRNO_SCRTY = A.CRU_RRNO_SCRTY AND ROWNUM = 1) ) AND A.OGDP_INST_CD IN (SELECT B.INST_CD /* 기관코드 */
FROM TBDCMACM015M B WHERE B.ENFM_DPT_CD = #dptCd#) ORDER BY INFO_RLPR_NM) DT ) T ) A WHERE NUM BETWEEN (((#currPage#- 1) * #pageSize#) + 1) AND (#currPage# * #pageSize#)