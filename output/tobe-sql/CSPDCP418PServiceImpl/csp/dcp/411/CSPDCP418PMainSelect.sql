SELECT A.CVLCPT_CLM_SECD /* 민원청구구분코드 */,
    A.TPOF_RCPT_YR /* 제보접수년도 */,
    A.TPOF_RCPT_NO /* 제보접수번호 */,
    A.TPOF_RCPT_YR||'-민원-'||C.TPOF_ACTL_RCPT_NO AS NTFCTN_RCPT_SQNO /* 통보접수순번 */,
    DECODE(C.TPOF_CLMT_KDCD,'1',C.TPOF_CVLPR_NM,'2',C.TPOF_CVLPR_RPRSV_NM,'3',C.TPOF_CVLPR_RPRSV_NM,'4',C.TPOF_CVLPR_NM) AS TPOF_CVLPR_NM /* 제보민원인명 */,
    DECODE(C.TPOF_CVLPR_ZIP,NULL,NULL,C.TPOF_CVLPR_ADDR||' '||C.TPOF_CVLPR_DADDR) AS OTSD_EXPRT_ADDR /* 외부전문가주소 */,
    C.TPOF_CVLPR_ZIP /* 제보민원인우편번호 */,
    B.TPOF_OPM_SQNO /* 제보시행문순번 */,
    CASE WHEN D.TPOF_OPM_CN IS NULL AND #TPOF_CYCL# IS NULL THEN (SELECT AS TPOF_DOC_CN /* 제보문서내용 */
FROM TB_CSPDCP203M Z WHERE A.CVLCPT_CLM_SECD = Z.CLM_SECD AND A.TPOF_RCPT_YR = Z.CVLCPT_RCPT_YR AND A.TPOF_RCPT_NO = Z.CVLCPT_RCPT_RCPT AND Z.TPOF_DOC_SECD = 'A3') WHEN D.TPOF_OPM_CN IS NULL AND #TPOF_CYCL# IS NOT NULL THEN (SELECT TPOF_DOC_CN /* 제보문서내용 */
FROM TB_CSPDCP203M Z WHERE A.CVLCPT_CLM_SECD = Z.CLM_SECD AND A.TPOF_RCPT_YR = Z.CVLCPT_RCPT_YR AND A.TPOF_RCPT_NO = Z.CVLCPT_RCPT_RCPT AND Z.TPOF_DOC_SECD = 'B4' AND Z.TPOF_CYCL = #TPOF_CYCL#) ELSE D.TPOF_OPM_CN END AS OPM_CN , B.TPOF_ONR_DOC_MNG_CARD_ID , NVL(B.TPOF_AVTSMT_SECD,#strCVPT_IFM_DVSN_CD#) AS SLCT_AVTSMT_AVTSMT , F_CODE_NM('1000370',NVL(B.TPOF_AVTSMT_SECD,#strCVPT_IFM_DVSN_CD#)) AS TITLE , #TPOF_CYCL# AS TPOF_CYCL , C.TPOF_NM , DECODE(C.TPOF_CVLPR_TELNO,NULL,C.TPOF_CVLPR_MPNO,C.TPOF_CVLPR_TELNO) AS CVLPR_TELNO , E.FL_RUT_NM , E.SYS_FL_NM , DECODE(C.TPOF_CLMT_KDCD,'1',C.TPOF_CVLPR_NM,'2',C.TPOF_CVLPR_RPRSV_NM,'3',C.TPOF_CVLPR_RPRSV_NM,'4',C.TPOF_CVLPR_NM) || ' 귀하 (우'||C.TPOF_CVLPR_ZIP || ' ' || C.TPOF_CVLPR_ADDR || ' ' || C.TPOF_CVLPR_DADDR || ')' AS RECEIVER FROM TB_CSPDCP201M A , TB_CSPDCP301M B , TB_CSPDCP101M C , TB_CSPDCP302M D , TBDCMACM103L E WHERE 1=1 AND A.CVLCPT_CLM_SECD = #CLM_SECD# AND A.TPOF_RCPT_YR = #CVLCPT_RCPT_YR# AND A.TPOF_RCPT_NO = #CVLCPT_RCPT_RCPT# AND A.CVLCPT_CLM_SECD = C.CVLCPT_CLM_SECD AND A.TPOF_RCPT_YR = C.TPOF_RCPT_YR AND A.TPOF_RCPT_NO = C.TPOF_RCPT_NO AND A.CVLCPT_CLM_SECD = B.CVLCPT_CLM_SECD(+) AND A.TPOF_RCPT_YR = B.TPOF_RCPT_YR(+) AND A.TPOF_RCPT_NO = B.TPOF_RCPT_NO(+) AND B.TPOF_AVTSMT_SECD(+) = #strCVPT_IFM_DVSN_CD# AND B.CVLCPT_CLM_SECD = D.CVLCPT_CLM_SECD(+) AND B.TPOF_RCPT_NO = D.TPOF_RCPT_NO(+) AND B.TPOF_RCPT_YR = D.TPOF_RCPT_YR(+) AND B.TPOF_OPM_SQNO = D.TPOF_OPM_SQNO(+) AND B.TPOF_ONR_DOC_MNG_CARD_ID = E.ONR_DOC_MNG_CARD_ID(+) B.TPOF_CYCL(+) = #TPOF_CYCL#