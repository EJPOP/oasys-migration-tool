SELECT T1.CVLCPT_SECD /* 민원구분코드 */,
    T1.CVLCPT_RCPT_YR /* 민원접수년도 */,
    T1.CVLCPT_RCPT_NO /* 민원접수번호 */,
    DECODE(T1.CRU_ACTL_RCPT_NO,NULL,NULL,T1.CVLCPT_RCPT_YR||'-부감-'||T1.CRU_ACTL_RCPT_NO) AS NTFCTN_RCPT_SQNO /* 통보접수순번 */,
    T1.INFO_RLPR_NM /* 정보관계자명 */,
    T1.RSCH_ASMT_TTL /* 연구과제제목 */,
    TO_CHAR(T1.CRU_RCPT_DT,'YYYY-MM-DD HH24:MI') AS CRU_RCPT_DT /* 부패접수일시 */,
    T1.CRU_RCPT_PATH_SECD /* 부패접수경로구분코드 */,
    F_CODE_NM('1000885',T1.CRU_RCPT_PATH_SECD) AS F_CODE_NM,
    T1.CRU_PRCS_STTS_SECD /* 부패처리상태구분코드 */,
    F_CODE_NM('1000886',T1.CRU_PRCS_STTS_SECD) AS PRCS_STTS_NM /* 처리상태명 */,
    T1.CRU_ACTL_RCPT_NO /* 부패실제접수번호 */,
    T1.CRU_TELNO /* 부패전화번호 */,
    TO_CHAR(T2.CRU_HNDT_DT,'YYYY-MM-DD') AS CRU_HNDT_DT /* 부패배부일시 */,
    F_DPT_INFO(T2.CRU_PRCS_DEPT_CD,'1') AS PRCS_DEPT_NM /* 처리부서명 */,
    T2.CRU_PRCS_DEPT_CD /* 부패처리부서코드 */,
    F_USR_INFO_BY_ID(T2.CRU_PRCS_PIC_ID,'2') AS SRECS_PRCS_PIC_NM /* 심사재심의처리담당자명 */,
    T2.CRU_PRCS_PIC_ID /* 부패처리담당자아이디 */,
    T1.CRU_RRNO_SCRTY /* 부패주민등록번호보안 */,
    TO_CHAR(TO_DATE(T1.PRCS_TERM_YMD),'YYYY-MM-DD') AS PRCS_TERM_YMD /* 처리기한일자 */,
    T2.CRU_EXMN_DEPT_CD /* 부패조사부서코드 */,
    F_DPT_INFO(T2.CRU_EXMN_DEPT_CD,'1') AS F_DPT_INFO,
    T2.CRU_EXMN_PIC_ID /* 부패조사담당자아이디 */,
    F_USR_INFO_BY_ID(T2.CRU_EXMN_PIC_ID,'2') AS F_USR_INFO_BY_ID,
    TO_CHAR(T1.CRU_PRCS_DT,'YYYY-MM-DD') AS CRU_PRCS_DT /* 부패처리일시 */
FROM TB_CSPCOR101M T1 ,TB_CSPCOR104M T2 WHERE T1.CVLCPT_SECD = '1' AND T1.CVLCPT_SECD = T2.CVLCPT_SECD(+) AND T1.CVLCPT_RCPT_YR = T2.CVLCPT_RCPT_YR(+) AND T1.CVLCPT_RCPT_NO = T2.CVLCPT_RCPT_NO(+) AND T1.CRU_PRCS_STTS_SECD = '30' AND T2.CRU_PRCS_DEPT_CD = #ETC_LBSVC_MNG_DEPT_CD# AND T2.CRU_PRCS_PIC_ID = #PRCS_PIC_ID# AND (T1.CVLCPT_SECD, T1.CVLCPT_RCPT_YR, T1.CVLCPT_RCPT_NO) NOT IN ( SELECT #strCORR_DVSN_CD#,
    #strACP_YR#,
    #strCORR_ACP_NO#
FROM DUAL ) AND (T1.CVLCPT_SECD, T1.CVLCPT_RCPT_YR, T1.CVLCPT_RCPT_NO) NOT IN ( SELECT S1.CVLCPT_SECD /* 민원구분코드 */,
    S1.CVLCPT_RCPT_YR /* 민원접수년도 */,
    S1.CVLCPT_RCPT_NO /* 민원접수번호 */
FROM TB_CSPCOR107L S1 ) AND (T1.CVLCPT_SECD, T1.CVLCPT_RCPT_YR, T1.CVLCPT_RCPT_NO) NOT IN ( SELECT S1.CVLCPT_MCA_CRU_SECD /* 민원합건부패구분코드 */,
    S1.CVLCPT_MCA_RCPT_YR /* 민원합건접수년도 */,
    S1.CVLCPT_MCA_CRU_RCPT_NO /* 민원합건부패접수번호 */
FROM TB_CSPCOR107L S1 ) ORDER BY T1.CVLCPT_RCPT_YR DESC,TO_NUMBER(T1.CRU_ACTL_RCPT_NO) DESC