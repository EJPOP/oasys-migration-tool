SELECT /* csp.ltt.service.impl.CSPLTT014EServiceImpl.CSPLTT014ECommentSelect */ ROW_NUMBER() OVER (ORDER BY A.TK_YE, A.TK_SLN, A.CMMT_SEQ) AS ROW_NUMBER,
    A.TK_YE /* 생각연도 */,
    A.TK_SLN /* 생각연번 */,
    A.CMMT_SEQ /* 생각연번 */,
    CASE WHEN NAM_OPEN_YN = 'N' THEN '익명' WHEN DGUARD.DECRYPT('TB_ENC','EAN', A.CRE_CNB) = '3223' THEN '' /* 요청에 의한 하드코딩 이름숨김 */ WHEN NAM_OPEN_YN = 'Y' THEN F_USR_INFO(DGUARD.DECRYPT('TB_ENC','EAN', A.CRE_CNB), 2) ELSE '익명' END AS NAM_OPEN_YN /* 등록자명 */,
    CASE WHEN NAM_OPEN_YN = 'Y' THEN F_DPT_INFO(DGUARD.DECRYPT('TB_ENC','EAN', A.CRE_USR_DPT_CD), 1) WHEN NAM_OPEN_YN = 'N' THEN '' ELSE '' END AS NAM_OPEN_YN /* 부서명 */,
    A.NAM_OPEN_YN /* 실명공개여부 */,
    CASE WHEN DEL_YN = 'Y' THEN A.DEL_RSN WHEN DEL_YN = 'N' THEN A.CONTENT ELSE A.CONTENT END AS DEL_YN /* 삭제여부 */,
    TO_CHAR(A.FRST_REG_DT, 'YYYY-MM-DD HH24:MI:SS') AS FRST_REG_DT /* 최초등록일시 */,
    A.DEL_YN /* 삭제여부 */,
    CASE WHEN DGUARD.DECRYPT('TB_ENC','EAN', A.CRE_CNB) = #S_CNB# THEN 'Y' ELSE 'N' END AS DECRYPT,
    CASE WHEN TO_DATE(TO_CHAR(SYSDATE,'YYYYMMDD')) < TO_DATE(TO_CHAR(A.FRST_REG_DT,'YYYYMMDD'))+3 THEN 'Y' ELSE 'N' END AS TO_DATE
FROM TBCSPLTT004M A WHERE A.TK_YE = #strTkYe# AND A.TK_SLN = #strTkSln# ORDER BY A.TK_YE, A.TK_SLN, A.CMMT_SEQ