/* AWU.BAK.BRR.AWUBAKANT003EMapper.searchCmtList */ SELECT TO_CHAR(TO_DATE(T.CMT_DT, 'YYYYMMDD' ), 'YYYY"년"MM"월"DD"일"(DY)') AS TO_CHAR,
    T.CMT_DT,
    TO_CHAR(TO_DATE(T.CMT_DT,'YYYYMMDD'),'YYYY-MM-DD') AS MTG_YMD /* 회의일자 */,
    T.TOTAL_TIME,
    T.HR_SECD /* 시간구분코드 */,
    T.MTG_TM /* 회의시각 */,
    T.MTG_HM /* 회의시분 */,
    T.MTG_NM /* 회의명 */,
    SUM(T.TOTAL_CNT) AS TOTAL_CNT,
    T.SRECS_CMT_SECD /* 심사재심의위원회구분코드 */,
    T.CMT_DVSN_NM,
    T.CMT_END_YN_NM,
    T.OSM_TYPE,
    T.RTN,
    T.MTG_END_YN /* 회의종료여부 */,
    T.MTG_RUD AS MTG_RUD /* 회의회차 */,
    DECODE(T.MTG_RUD, NULL, '', '제'||T.MTG_RUD||'회 ' ||T.MTG_NM) AS MTG_RUD /* 회의회차 */,
    DECODE(T.MTG_RUD, NULL, '', '제'||T.MTG_RUD||'회') AS MTG_RUD /* 회의회차 */,
    DECODE(T.MTG_RUD, NULL, 'NEW', 'UPT') AS MTG_RUD /* 회의회차 */,
    T.LDRV_CHRPR_ID /* 주심위원위원장아이디 */,
    F_USR_INFO(T.LDRV_CHRPR_ID, '2') AS F_USR_INFO,
    T.LDRV_ID /* 주심위원아이디 */,
    F_USR_INFO(T.LDRV_ID, '2') AS F_USR_INFO,
    T.LDRV_ID /* 주심위원아이디 */,
    F_USR_INFO(T.LDRV_ID, '2') AS F_USR_INFO,
    T.LDRV_ID /* 주심위원아이디 */,
    F_USR_INFO(T.LDRV_ID, '2') AS F_USR_INFO,
    T.LDRV_ID /* 주심위원아이디 */,
    F_USR_INFO(T.LDRV_ID, '2') AS F_USR_INFO,
    T.LDRV_ID /* 주심위원아이디 */,
    F_USR_INFO(T.LDRV_ID, '2') AS F_USR_INFO,
    T.LDRV_ID /* 주심위원아이디 */,
    F_USR_INFO(T.LDRV_ID, '2') AS F_USR_INFO,
    T.MTG_BGS_CN /* 회의개회내용 */,
    T.MTG_END_CN /* 회의종료내용 */,
    T.SBMSN_SE_NO /* 제출구분번호 */
FROM ( /*************** 부의(시스템) ****************/ SELECT A.SBCN_YMD /* 부의일자 */,
    CASE B.HR_SECD WHEN 'AM' THEN '오전' WHEN 'PM' THEN '오후' ELSE '' END || DECODE(B.MTG_TM,NULL,'',B.MTG_TM||'시') || DECODE(B.MTG_HM,NULL,'',B.MTG_HM||'분') AS HR_SECD /* 시간구분코드 */,
    B.MTG_NM AS MTG_NM /* 회의명 */,
    COUNT(DISTINCT A.ADT_YR||A.ADT_NO) + COUNT(DISTINCT C.MTG_YMD||C.SRECS_CMT_SECD||C.MTG_RUD||C.MTG_MTTR_SECD||C.MTG_AGND_SQNO) AS ADT_YR /* 감사년도 */,
    NVL(B.CMT_SECD, '10') AS SRECS_CMT_SECD /* 심사재심의위원회구분코드 */,
    F_CODE_NM('1000789', NVL(B.CMT_SECD, '10')) AS F_CODE_NM,
    DECODE(B.MTG_END_YN, NULL, '미등록', '회의등록'||'('||TO_CHAR(B.FRST_REG_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '진행중', '종료'||'('||TO_CHAR(B.CMT_END_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '결과입력', '입력완료') AS MTG_END_YN /* 회의종료여부 */,
    A.SBCN_YMD /* 부의일자 */,
    B.MTG_YMD /* 회의일자 */,
    B.MTG_RUD /* 회의회차 */,
    B.HR_SECD /* 시간구분코드 */,
    B.MTG_TM /* 회의시각 */,
    B.MTG_HM /* 회의시분 */,
    B.MTG_BGS_CN /* 회의개회내용 */,
    B.MTG_END_CN /* 회의종료내용 */,
    B.MTG_END_YN /* 회의종료여부 */,
    B.LDRV_CHRPR_ID /* 주심위원위원장아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    '' AS SBMSN_SE_NO /* 제출구분번호 */
FROM TBBADDED113M A LEFT OUTER JOIN TBBADDED120M B ON A.SBCN_YMD = B.MTG_YMD AND B.SRECS_CMT_SECD = '10' LEFT OUTER JOIN TBBADDED121M AS C ON B.MTG_YMD = C.MTG_YMD AND B.SRECS_CMT_SECD = C.SRECS_CMT_SECD AND B.MTG_RUD = C.MTG_RUD WHERE A.SBCN_YMD BETWEEN REPLACE(#{fldAudStrDt},'-','') AND REPLACE(#{fldAudEndDt},'-', '') GROUP BY A.CVLCPT_ADT_YR, A.SBCN_YMD, B.MTG_YMD, B.SRECS_CMT_SECD, B.MTG_RUD, B.HR_SECD, B.MTG_TM, B.MTG_HM, B.MTG_NM, B.MTG_BGS_CN, B.MTG_END_CN, B.MTG_END_YN, TO_CHAR(B.LAST_MDFCN_DT,'YYYY-MM-DD'),B.CMT_END_DT, B.LDRV_CHRPR_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.FRST_REG_DT UNION ALL /*************** 부의(수기입력) ****************/ SELECT B.MTG_YMD /* 회의일자 */,
    CASE B.HR_SECD WHEN 'AM' THEN '오전' WHEN 'PM' THEN '오후' ELSE '' END || DECODE(B.MTG_TM,NULL,'',B.MTG_TM||'시') || DECODE(B.MTG_HM,NULL,'',B.MTG_HM||'분') AS HR_SECD /* 시간구분코드 */,
    B.MTG_NM AS MTG_NM /* 회의명 */,
    COUNT(DISTINCT C.MTG_YMD||C.SRECS_CMT_SECD||C.MTG_RUD||C.MTG_MTTR_SECD||C.MTG_AGND_SQNO) AS MTG_YMD /* 회의일자 */,
    B.CMT_SECD /* 위원회구분코드 */,
    F_CODE_NM('1000789',B.CMT_SECD) AS F_CODE_NM,
    DECODE(B.MTG_END_YN, NULL, '미등록', '회의등록'||'('||TO_CHAR(B.FRST_REG_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '진행중', '종료'||'('||TO_CHAR(B.CMT_END_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '결과입력', '입력완료') AS MTG_END_YN /* 회의종료여부 */,
    '' AS SBCN_YMD /* 부의일자 */,
    B.MTG_YMD /* 회의일자 */,
    B.MTG_RUD /* 회의회차 */,
    B.HR_SECD /* 시간구분코드 */,
    B.MTG_TM /* 회의시각 */,
    B.MTG_HM /* 회의시분 */,
    B.MTG_BGS_CN /* 회의개회내용 */,
    B.MTG_END_CN /* 회의종료내용 */,
    B.MTG_END_YN /* 회의종료여부 */,
    B.LDRV_CHRPR_ID /* 주심위원위원장아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    '' AS SBMSN_SE_NO /* 제출구분번호 */
FROM TBBADDED120M B LEFT OUTER JOIN TBBADDED121M AS C ON B.MTG_YMD = C.MTG_YMD AND B.SRECS_CMT_SECD = C.SRECS_CMT_SECD AND B.MTG_RUD = C.MTG_RUD WHERE B.MTG_YMD BETWEEN REPLACE(#{fldAudStrDt},'-','') AND REPLACE(#{fldAudEndDt},'-', '') AND (B.SRECS_CMT_SECD IN ('30', '10') AND NOT EXISTS (SELECT 1
FROM TBBADDED113M D WHERE D.SBCN_YMD = B.MTG_YMD )) GROUP BY B.MTG_YMD, B.SRECS_CMT_SECD, B.MTG_RUD, B.HR_SECD, B.MTG_TM, B.MTG_HM,B.CMT_END_DT, B.MTG_NM, B.MTG_BGS_CN, B.MTG_END_CN, B.MTG_END_YN, TO_CHAR(B.LAST_MDFCN_DT,'YYYY-MM-DD'), B.LDRV_CHRPR_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.FRST_REG_DT UNION ALL /*************** 부의(시스템-심사,재심) ****************/ SELECT A.SBCN_YMD /* 부의일자 */,
    CASE B.HR_SECD WHEN 'AM' THEN '오전' WHEN 'PM' THEN '오후' ELSE '' END || DECODE(B.MTG_TM,NULL,'',B.MTG_TM||'시') || DECODE(B.MTG_HM,NULL,'',B.MTG_HM||'분') AS HR_SECD /* 시간구분코드 */,
    B.MTG_NM AS MTG_NM /* 회의명 */,
    COUNT(DISTINCT NVL(C.SRECS_MERG_RCPT_YR, C.SRECS_RCPT_YR)||NVL(C.SRECS_MERG_RCPT_SQNO, C.SRECS_RCPT_SECD)||NVL(C.SRECS_MERG_RCPT_SQNO,C.SRECS_RCPT_SQNO)) AS SRECS_MERG_RCPT_YR /* 심사재심의병합접수년도 */,
    NVL(B.CMT_SECD, '10') AS SRECS_CMT_SECD /* 심사재심의위원회구분코드 */,
    F_CODE_NM('1000789', NVL(B.CMT_SECD, '10')) AS F_CODE_NM,
    DECODE(B.MTG_END_YN, NULL, '미등록', '회의등록'||'('||TO_CHAR(B.FRST_REG_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '진행중', '종료'||'('||TO_CHAR(B.CMT_END_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '결과입력', '입력완료') AS MTG_END_YN /* 회의종료여부 */,
    A.SBCN_YMD /* 부의일자 */,
    B.MTG_YMD /* 회의일자 */,
    B.MTG_RUD /* 회의회차 */,
    B.HR_SECD /* 시간구분코드 */,
    B.MTG_TM /* 회의시각 */,
    B.MTG_HM /* 회의시분 */,
    B.MTG_BGS_CN /* 회의개회내용 */,
    B.MTG_END_CN /* 회의종료내용 */,
    B.MTG_END_YN /* 회의종료여부 */,
    B.LDRV_CHRPR_ID /* 주심위원위원장아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    '' AS SBMSN_SE_NO /* 제출구분번호 */
FROM TBBADFRE113M A LEFT OUTER JOIN TBBADDED120M B ON A.SBCN_YMD = B.MTG_YMD AND B.SRECS_CMT_SECD = '10' INNER JOIN TBBADFRE012M C ON C.CVLCPT_RCPT_YR = A.CVLCPT_RCPT_YR AND C.SRECS_RCPT_SECD = A.SRECS_RCPT_SECD AND C.SRECS_RCPT_SQNO = A.SRECS_RCPT_SQNO WHERE A.SBCN_YMD BETWEEN REPLACE(#{fldAudStrDt},'-','') AND REPLACE(#{fldAudEndDt},'-', '') GROUP BY A.SBCN_YMD, B.MTG_YMD, B.SRECS_CMT_SECD, B.MTG_RUD, B.HR_SECD, B.MTG_TM, B.MTG_HM, B.MTG_NM, B.MTG_BGS_CN, B.MTG_END_CN, B.MTG_END_YN, TO_CHAR(B.LAST_MDFCN_DT,'YYYY-MM-DD'),B.CMT_END_DT, B.LDRV_CHRPR_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.FRST_REG_DT UNION ALL /*************** 소위원회(실지감사) ****************/ SELECT CMT_DT,
    CASE NVL(HR_SECD, DECODE(MIN(SBCM_CFMTN_DT), NULL, '', CASE WHEN SUBSTR(MIN(SBCM_CFMTN_DT),0,2) >= '12' THEN 'PM' ELSE 'AM' END)) WHEN 'AM' THEN '오전' WHEN 'PM' THEN '오후' ELSE '' END || DECODE(MTG_TM, NULL, DECODE(MIN(SBCM_CFMTN_DT), NULL, '', CASE WHEN SUBSTR(MIN(SBCM_CFMTN_DT),0,2) >'12' THEN LPAD(TO_CHAR(TO_NUMBER(SUBSTR(MIN(SBCM_CFMTN_DT),0,2)) - 12),2,'0') ELSE LPAD(SUBSTR(MIN(SBCM_CFMTN_DT),0,2),2,'0') END||'시'),MTG_TM||'시') || DECODE(MTG_HM, NULL, DECODE(MIN(SBCM_CFMTN_DT), NULL, '', SUBSTR(MIN(SBCM_CFMTN_DT),4,2)||'분') ,MTG_HM||'분') AS HR_SECD /* 시간구분코드 */,
    MTG_NM /* 회의명 */,
    SUM(TOTAL_CNT) AS TOTAL_CNT,
    SRECS_CMT_SECD /* 심사재심의위원회구분코드 */,
    CMT_DVSN_NM,
    CMT_END_YN_NM,
    OSM_TYPE,
    RTN,
    SBCM_CFMTN_YMD /* 소위원회확정일자 */,
    MTG_YMD /* 회의일자 */,
    MTG_RUD /* 회의회차 */,
    NVL(HR_SECD, DECODE(MIN(SBCM_CFMTN_DT), NULL, '', CASE WHEN SUBSTR(MIN(SBCM_CFMTN_DT),0,2) >= '12' THEN 'PM' ELSE 'AM' END)) AS HR_SECD /* 시간구분코드 */,
    NVL(MTG_TM, DECODE(MIN(SBCM_CFMTN_DT), NULL, '', CASE WHEN SUBSTR(MIN(SBCM_CFMTN_DT),0,2) >'12' THEN LPAD(TO_CHAR(TO_NUMBER(SUBSTR(MIN(SBCM_CFMTN_DT),0,2)) - 12),2,'0') ELSE LPAD(SUBSTR(MIN(SBCM_CFMTN_DT),0,2),2,'0') END)) AS MTG_TM /* 회의시각 */,
    NVL(MTG_HM, DECODE(MIN(SBCM_CFMTN_DT), NULL, '', SUBSTR(MIN(SBCM_CFMTN_DT),4,2))) AS MTG_HM /* 회의시분 */,
    MTG_BGS_CN /* 회의개회내용 */,
    MTG_END_CN /* 회의종료내용 */,
    MTG_END_YN /* 회의종료여부 */,
    LDRV_CHRPR_ID /* 주심위원위원장아이디 */,
    LDRV_ID /* 주심위원아이디 */,
    LDRV_ID /* 주심위원아이디 */,
    LDRV_ID /* 주심위원아이디 */,
    LDRV_ID /* 주심위원아이디 */,
    LDRV_ID /* 주심위원아이디 */,
    LDRV_ID /* 주심위원아이디 */,
    SBMSN_SE_NO /* 제출구분번호 */
FROM ( SELECT A.SBCM_CFMTN_YMD /* 소위원회확정일자 */,
    B.MTG_NM AS MTG_NM /* 회의명 */,
    COUNT(DISTINCT A.ADT_YR||A.ADT_NO||A.INCDNT_SQNO||A.SBCM_NO) + COUNT(DISTINCT C.MTG_YMD||C.SRECS_CMT_SECD||C.MTG_RUD||C.MTG_MTTR_SECD||C.MTG_AGND_SQNO) AS ADT_YR /* 감사년도 */,
    NVL(B.CMT_SECD, '20') AS SRECS_CMT_SECD /* 심사재심의위원회구분코드 */,
    F_CODE_NM('1000789', NVL(B.CMT_SECD, '20')) AS F_CODE_NM,
    DECODE(B.MTG_END_YN, NULL, '미등록', '회의등록'||'('||TO_CHAR(B.FRST_REG_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '진행중', '종료'||'('||TO_CHAR(B.CMT_END_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '회의종료', '') AS MTG_END_YN /* 회의종료여부 */,
    A.SBCM_CFMTN_YMD /* 소위원회확정일자 */,
    B.MTG_YMD /* 회의일자 */,
    B.MTG_RUD /* 회의회차 */,
    B.HR_SECD /* 시간구분코드 */,
    B.MTG_TM /* 회의시각 */,
    B.MTG_HM /* 회의시분 */,
    B.MTG_BGS_CN /* 회의개회내용 */,
    B.MTG_END_CN /* 회의종료내용 */,
    B.MTG_END_YN /* 회의종료여부 */,
    B.LDRV_CHRPR_ID /* 주심위원위원장아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    A.SBCM_NO /* 소위원회번호 */,
    MIN(A.SBCM_CFMTN_DT) AS SBCM_CFMTN_DT /* 소위원회확정일시 */
FROM TBBADDED114M A LEFT OUTER JOIN TBBADDED120M B ON (A.SBCM_CFMTN_YMD = B.MTG_YMD AND A.SBMSN_SE_NO = B.SBMSN_SE_NO) AND B.SRECS_CMT_SECD = '20' LEFT OUTER JOIN TBBADDED121M AS C ON B.MTG_YMD = C.MTG_YMD AND B.SRECS_CMT_SECD = C.SRECS_CMT_SECD AND B.MTG_RUD = C.MTG_RUD WHERE A.SBCM_CFMTN_YMD BETWEEN REPLACE(#{fldAudStrDt},'-','') AND REPLACE(#{fldAudEndDt},'-', '') AND A.SBCM_PRGRS_SECD > '20' GROUP BY A.CVLCPT_ADT_YR, A.SBCM_CFMTN_YMD, B.MTG_YMD, B.SRECS_CMT_SECD, B.MTG_RUD, B.HR_SECD, B.MTG_TM, B.MTG_HM,B.CMT_END_DT, B.MTG_NM, B.MTG_BGS_CN, B.MTG_END_CN, B.MTG_END_YN, TO_CHAR(B.LAST_MDFCN_DT,'YYYY-MM-DD'), B.LDRV_CHRPR_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, A.SBMSN_SE_NO, B.FRST_REG_DT UNION /*************** 소위원회(수기입력) ****************/ SELECT B.MTG_YMD /* 회의일자 */,
    B.MTG_NM AS MTG_NM /* 회의명 */,
    COUNT(DISTINCT C.MTG_YMD||C.SRECS_CMT_SECD||C.MTG_RUD||C.MTG_MTTR_SECD||C.MTG_AGND_SQNO) AS MTG_YMD /* 회의일자 */,
    B.CMT_SECD /* 위원회구분코드 */,
    F_CODE_NM('1000789',B.CMT_SECD) AS F_CODE_NM,
    DECODE(B.MTG_END_YN, NULL, '미등록', '회의등록'||'('||TO_CHAR(B.FRST_REG_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '진행중', '종료'||'('||TO_CHAR(B.CMT_END_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '회의종료', '') AS MTG_END_YN /* 회의종료여부 */,
    B.MTG_YMD AS MTG_YMD /* 회의일자 */,
    B.MTG_YMD /* 회의일자 */,
    B.MTG_RUD /* 회의회차 */,
    B.HR_SECD /* 시간구분코드 */,
    B.MTG_TM /* 회의시각 */,
    B.MTG_HM /* 회의시분 */,
    B.MTG_BGS_CN /* 회의개회내용 */,
    B.MTG_END_CN /* 회의종료내용 */,
    B.MTG_END_YN /* 회의종료여부 */,
    B.LDRV_CHRPR_ID /* 주심위원위원장아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.SBMSN_SE_NO /* 제출구분번호 */,
    '' AS SBCM_CFMTN_DT /* 소위원회확정일시 */
FROM TBBADDED120M B LEFT OUTER JOIN TBBADDED121M AS C ON B.MTG_YMD = C.MTG_YMD AND B.SRECS_CMT_SECD = C.SRECS_CMT_SECD AND B.MTG_RUD = C.MTG_RUD WHERE B.MTG_YMD BETWEEN REPLACE(#{fldAudStrDt},'-','') AND REPLACE(#{fldAudEndDt},'-', '') AND (B.SRECS_CMT_SECD = '20' AND NOT EXISTS (SELECT 1
FROM TBBADDED114M D WHERE D.SBCM_CFMTN_YMD = B.MTG_YMD AND D.SBMSN_SE_NO = B.SBMSN_SE_NO UNION ALL SELECT 1
FROM TBBADFRE114M D WHERE D.SBCM_CFMTN_YMD = B.MTG_YMD AND D.SBMSN_SE_NO = B.SBMSN_SE_NO) ) GROUP BY B.MTG_YMD, B.SRECS_CMT_SECD, B.MTG_RUD, B.HR_SECD, B.MTG_TM, B.MTG_HM,B.CMT_END_DT, B.MTG_NM, B.MTG_BGS_CN, B.MTG_END_CN, B.MTG_END_YN, TO_CHAR(B.LAST_MDFCN_DT,'YYYY-MM-DD'), B.LDRV_CHRPR_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.FRST_REG_DT, B.SBMSN_SE_NO UNION ALL /*************** 소위원회(심사/재심의) ****************/ SELECT A.SBCM_CFMTN_YMD /* 소위원회확정일자 */,
    B.MTG_NM AS MTG_NM /* 회의명 */,
    COUNT(DISTINCT A.SRECS_RCPT_YR||A.SRECS_RCPT_SQNO||A.SBMSN_SE_NO) + COUNT(DISTINCT C.MTG_YMD||C.SRECS_CMT_SECD||C.MTG_RUD||C.MTG_MTTR_SECD||C.MTG_AGND_SQNO) AS SRECS_RCPT_YR /* 심사재심의접수년도 */,
    NVL(B.CMT_SECD, '20') AS SRECS_CMT_SECD /* 심사재심의위원회구분코드 */,
    F_CODE_NM('1000789', NVL(B.CMT_SECD, '20')) AS F_CODE_NM,
    DECODE(B.MTG_END_YN, NULL, '미등록', '회의등록'||'('||TO_CHAR(B.FRST_REG_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '진행중', '종료'||'('||TO_CHAR(B.CMT_END_DT,'YYYY-MM-DD')||')') AS MTG_END_YN /* 회의종료여부 */,
    DECODE(B.MTG_END_YN, NULL, '', 'N', '회의종료', '') AS MTG_END_YN /* 회의종료여부 */,
    A.SBCM_CFMTN_YMD /* 소위원회확정일자 */,
    B.MTG_YMD /* 회의일자 */,
    B.MTG_RUD /* 회의회차 */,
    B.HR_SECD /* 시간구분코드 */,
    B.MTG_TM /* 회의시각 */,
    B.MTG_HM /* 회의시분 */,
    B.MTG_BGS_CN /* 회의개회내용 */,
    B.MTG_END_CN /* 회의종료내용 */,
    B.MTG_END_YN /* 회의종료여부 */,
    B.LDRV_CHRPR_ID /* 주심위원위원장아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    B.LDRV_ID /* 주심위원아이디 */,
    A.SBMSN_SE_NO /* 제출구분번호 */,
    MIN(A.SBCM_CFMTN_DT) AS SBCM_CFMTN_DT /* 소위원회확정일시 */
FROM TBBADFRE114M A LEFT OUTER JOIN TBBADDED120M B ON (A.SBCM_CFMTN_YMD = B.MTG_YMD AND A.SBMSN_SE_NO = B.SBMSN_SE_NO) AND B.SRECS_CMT_SECD = '20' LEFT OUTER JOIN TBBADDED121M AS C ON B.MTG_YMD = C.MTG_YMD AND B.SRECS_CMT_SECD = C.SRECS_CMT_SECD AND B.MTG_RUD = C.MTG_RUD WHERE A.SBCM_CFMTN_YMD BETWEEN REPLACE(#{fldAudStrDt},'-','') AND REPLACE(#{fldAudEndDt},'-', '') AND A.SBCM_PRGRS_SECD > '20' GROUP BY A.SBCM_CFMTN_YMD, B.MTG_YMD, B.SRECS_CMT_SECD, B.MTG_RUD, B.HR_SECD, B.MTG_TM, B.MTG_HM, B.MTG_NM, B.MTG_BGS_CN, B.MTG_END_CN, B.MTG_END_YN, TO_CHAR(B.LAST_MDFCN_DT,'YYYY-MM-DD'),B.CMT_END_DT, B.LDRV_CHRPR_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, B.LDRV_ID, A.SBMSN_SE_NO, B.FRST_REG_DT ) GROUP BY CMT_DT, MTG_NM, SRECS_CMT_SECD, CMT_DVSN_NM, CMT_END_YN_NM, OSM_TYPE, RTN, SBCM_CFMTN_YMD, MTG_YMD, MTG_RUD, HR_SECD, MTG_TM, MTG_HM, MTG_BGS_CN, MTG_END_CN, MTG_END_YN, LDRV_CHRPR_ID, LDRV_ID, LDRV_ID, LDRV_ID, LDRV_ID, LDRV_ID, LDRV_ID, SBMSN_SE_NO ) T WHERE 1=1 AND T.SRECS_CMT_SECD = '10' AND DECODE(T.MTG_RUD, NULL, '', '제'||T.MTG_RUD||'회 ' ||T.MTG_NM) LIKE '%'||#{srchCmtTitNm}||'%' AND T.CMT_DVSN_CD = #{srchCmtDvsnCd} AND DECODE(T.MTG_END_YN,NULL,'N','Y') = #{schCmtRegYn} AND CMT_DT BETWEEN REPLACE(#{fldAudStrDt},'-','') AND REPLACE(#{fldAudEndDt},'-', '') GROUP BY T.CMT_DT,T.TOTAL_TIME,T.TIME_DVSN_CD,T.CMT_TIME,T.CMT_MIN,T.CMT_TIT,T.CMT_DVSN_CD,T.CMT_DVSN_NM,T.CMT_END_YN_NM ,T.OSM_TYPE,T.RTN,T.CMT_END_YN,T.CMT_SQ,T.CHF_CMTR_ID,T.CMTR1_ID,T.CMTR2_ID,T.CMTR3_ID,T.CMTR4_ID,T.CMTR5_ID,T.CMTR6_ID,T.CMT_STR_TXT,T.CMT_END_TXT , T.SBMT_DVSN_NO ORDER BY CMT_DT DESC, CMT_SQ DESC, TOTAL_TIME NULLS FIRST