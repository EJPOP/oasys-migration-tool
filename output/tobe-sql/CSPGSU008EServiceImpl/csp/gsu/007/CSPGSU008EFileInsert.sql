MERGE INTO TBCSPGSU004M T1 USING ( SELECT #PRPS_YE# AS #PRPS_YE#,
    #PRPS_SLN# AS #PRPS_SLN#,
    '2' AS PRPS_ATT_FL_DVSN_CD
FROM DUAL ) T2 ON ( T1.PRPS_YE = T2.PRPS_YE AND T1.PRPS_SLN = T2.PRPS_SLN AND T1.PRPS_ATT_FL_DVSN_CD = T2.PRPS_ATT_FL_DVSN_CD ) WHEN MATCHED THEN UPDATE SET CVLCPT_DOC_ID = #CVLCPT_DOC_ID# WHEN NOT MATCHED THEN INSERT INSERT ( PRPS_YE /*제안연도*/ ,PRPS_SLN /*제안연번*/ ,PRPS_ATT_FL_DVSN_CD /*제안천부파일구분코드*/ ,CVLCPT_DOC_ID /*첨부파일문서ID*/ ,ADT_PLAN_DOC_TPCD /*문서유형코드*/ ,FRST_USER_ID /*최초사용자ID*/ ,LAST_USER_ID /*최종사용자ID*/ ,LAST_PRCS_DEPT_CD /*최종거래부서코드*/ ,LAST_MENU_ID /*최종메뉴ID*/ ,FRST_REG_DT /*최초등록일시*/ ,LAST_MDFCN_DT /*최종수정일시*/ ) VALUES ( #PRPS_YE# /*제안연도*/ ,#PRPS_SLN# /*제안연번*/ ,'2' /*제안천부파일구분코드*/ ,#CVLCPT_DOC_ID# /*첨부파일문서ID*/ ,'' /*문서유형코드*/ ,DECODE(#FRT_USR_ID#,NULL,#FNL_USR_ID#,#FRT_USR_ID#) /*최초사용자ID*/ ,#FNL_USR_ID# /*최종사용자ID*/ ,#FNL_DEAL_DPT_CD# /*최종거래부서코드*/ ,#FNL_MNU_ID# /*최종메뉴ID*/ ,SYSDATE /*최초등록일시*/ ,SYSDATE /*최종수정일시*/ )