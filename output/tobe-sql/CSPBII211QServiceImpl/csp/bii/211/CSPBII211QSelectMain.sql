SELECT A.CVLCPT_RCPT_YR||DECODE(A.TPOF_ACTL_RCPT_SECD,'','-','2','-민원-','1','-제보-')||A.TPOF_ACTL_RCPT_NO AS CVLCPT_RCPT_YR /* 민원접수년도 */,
    TO_CHAR(A.CRU_RCPT_DT, 'YYYYMMDD') AS NTFCTN_RCPT_YMD /* 통보접수일자 */,
    (SELECT AGGR_CONCAT(F_ORG_INFO(INST_CD, '1'), ',') AS INST_CD /* 기관코드 */
FROM TB_CSPDCP206L WHERE CLM_SECD = A.CLM_SECD AND CVLCPT_RCPT_YR = A.CVLCPT_RCPT_YR AND CVLCPT_RCPT_RCPT = A.CVLCPT_RCPT_RCPT AND CVLCPT_INST_DSCTN_SECD = '1') AS AUD_TG_ORG_NM , A.RSCH_ASMT_TTL , CASE WHEN B.INFO_YR IS NOT NULL THEN B.INFO_YR||'-'||B.FRS_MDM_SQNO ELSE '' END AS INF_NO , A.SLCT_ADT_TRNSF_SECD , A.CVLCPT_RCPT_YR , A.CVLCPT_RCPT_RCPT , A.CLM_SECD , B.INFO_YR , B.FRS_MDM_SQNO , (SELECT /*+INDEX KBCSPCSPDCP206001 +*/ INST_CD || '|' || F_ORG_INFO(INST_CD, '1') AS INST_CD /* 기관코드 */
FROM TB_CSPDCP206L WHERE CLM_SECD = A.CLM_SECD AND CVLCPT_RCPT_YR = A.CVLCPT_RCPT_YR AND CVLCPT_RCPT_RCPT = A.CVLCPT_RCPT_RCPT AND CVLCPT_INST_DSCTN_SECD = '1' AND ROWNUM = 1) AS AUD_TG_ORG_1 , (SELECT /*+INDEX KBCSPCSPDCP206001 +*/ MAX(DECODE(ROWNUM, 2, INST_CD, NULL)) || '|' || F_ORG_INFO(MAX(DECODE(ROWNUM, 2, INST_CD, NULL)), '1') AS INST_CD /* 기관코드 */
FROM TB_CSPDCP206L WHERE CLM_SECD = A.CLM_SECD AND CVLCPT_RCPT_YR = A.CVLCPT_RCPT_YR AND CVLCPT_RCPT_RCPT = A.CVLCPT_RCPT_RCPT AND CVLCPT_INST_DSCTN_SECD = '1' AND ROWNUM AND A.CVLCPT_RCPT_YR = #CVLCPT_RCPT_YR# AND A.TPOF_ACTL_RCPT_NO = #TPOF_ACTL_RCPT_NO# AND A.TPOF_ACTL_RCPT_SECD = #CLM_SECD# AND TO_CHAR(A.CRU_RCPT_DT, 'YYYYMMDD') >= #strStrAcpDt# AND TO_CHAR(A.CRU_RCPT_DT, 'YYYYMMDD') &lt;= #strEndAcpDt# AND (A.RSCH_ASMT_TTL LIKE '%'||#strSchTxt#||'%' OR (A.CVLCPT_RCPT_YR, A.CVLCPT_RCPT_RCPT, A.CLM_SECD) IN (SELECT CVLCPT_RCPT_YR /* 민원접수년도 */,
    CVLCPT_RCPT_RCPT /* 민원접수번호 */,
    CLM_SECD /* 청구구분코드 */
FROM TB_CSPDCP104L WHERE F_ORG_INFO(CVLCPT_ADT_TRGT_INST_CD, '1') LIKE '%'||#strSchTxt#||'%') ) AND (A.CVLCPT_RCPT_YR, A.CVLCPT_RCPT_RCPT, A.CLM_SECD) IN (SELECT CVLCPT_RCPT_YR /* 민원접수년도 */,
    CVLCPT_RCPT_RCPT /* 민원접수번호 */,
    CLM_SECD /* 청구구분코드 */
FROM TB_CSPDCP104L WHERE CVLCPT_ADT_TRGT_INST_CD LIKE SUBSTR(#CVLCPT_ADT_TRGT_INST_CD#, 0, INSTR(#CVLCPT_ADT_TRGT_INST_CD#, '000') -1) || '%') AND (A.CVLCPT_RCPT_YR, A.CVLCPT_RCPT_RCPT, A.CLM_SECD) IN (SELECT CVLCPT_RCPT_YR /* 민원접수년도 */,
    CVLCPT_RCPT_RCPT /* 민원접수번호 */,
    CLM_SECD /* 청구구분코드 */
FROM TB_CSPDCP104L WHERE CVLCPT_ADT_TRGT_INST_CD = #CVLCPT_ADT_TRGT_INST_CD#) AND A.SLCT_ADT_TRNSF_SECD = #SLCT_ADT_TRNSF_SECD# 민원연계정보 선택 팝업화면에서 사용]--> AND B.YE IS NULL UNION ALL SELECT A.ACP_YR||DECODE(A.REQ_DVSN_CD,'','-','2','-국민-','3','-공익-')||A.RM_CVPT_ACP_NO AS ACP_YR_NO , TO_CHAR(A.ACP_DH, 'YYYYMMDD') AS ACP_DT , (SELECT AGGR_CONCAT(F_ORG_INFO(AUD_TG_ORG_CD, '1'), ',') FROM TBCSPDCP104L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO) AS AUD_TG_ORG_NM , A.TIT_NM , CASE WHEN B.YE IS NOT NULL THEN B.YE||'-'||B.SRNO ELSE '' END AS INF_NO , A.AUD_INF_TRF_DVSN_CD , A.ACP_YR , A.CVPT_ACP_NO , A.REQ_DVSN_CD , B.YE , B.SRNO , (SELECT AUD_TG_ORG_CD || '|' || F_ORG_INFO(AUD_TG_ORG_CD, '1') FROM TBCSPDCP104L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO AND ROWNUM = 1) AS AUD_TG_ORG_1 , (SELECT MAX(DECODE(ROWNUM, 2, AUD_TG_ORG_CD, NULL)) || '|' || F_ORG_INFO(MAX(DECODE(ROWNUM, 2, AUD_TG_ORG_CD, NULL)), '1') FROM TBCSPDCP104L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO AND ROWNUM AND A.ACP_YR = #strAcpYr# AND A.RM_CVPT_ACP_NO = #strCvptAcpNo# AND A.REQ_DVSN_CD = DECODE(#strCvptAcpTp#,'3','2','4','3') AND TO_CHAR(A.ACP_DH, 'YYYYMMDD') >= #strStrAcpDt# AND TO_CHAR(A.ACP_DH, 'YYYYMMDD') &lt;= #strEndAcpDt# AND (A.TIT_NM LIKE '%'||#strSchTxt#||'%' OR (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBCSPDCP104L WHERE F_ORG_INFO(AUD_TG_ORG_CD, '1') LIKE '%'||#strSchTxt#||'%') ) AND (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBCSPDCP104L WHERE AUD_TG_ORG_CD LIKE SUBSTR(#strAudTgOrgCd#, 0, INSTR(#strAudTgOrgCd#, '000') -1) || '%') AND (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBCSPDCP104L WHERE AUD_TG_ORG_CD = #strAudTgOrgCd#) AND A.AUD_INF_TRF_DVSN_CD = #strSrchDvsnCd# 민원연계정보 선택 팝업화면에서 사용]--> AND B.YE IS NULL UNION ALL SELECT A.ACP_YR||'-부감-'||A.RM_CVPT_ACP_NO AS ACP_YR_NO , TO_CHAR(A.ACP_DH, 'YYYYMMDD') AS ACP_DT , (SELECT AGGR_CONCAT(F_ORG_INFO(ORG_CD, '1'), ',') FROM TBCORCOR206L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO AND ORG_HIS_DVSN_CD = '1') AS AUD_TG_ORG_NM , A.TIT_NM , CASE WHEN B.YE IS NOT NULL THEN B.YE||'-'||B.SRNO ELSE '' END AS INF_NO , A.AUD_INF_TRF_DVSN_CD , A.ACP_YR , A.CVPT_ACP_NO , A.REQ_DVSN_CD , B.YE , B.SRNO , (SELECT ORG_CD || '|' || F_ORG_INFO(ORG_CD, '1') FROM TBCORCOR206L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO AND ORG_HIS_DVSN_CD = '1' AND ROWNUM = 1) AS AUD_TG_ORG_1 , (SELECT MAX(DECODE(ROWNUM, 2, ORG_CD, NULL)) || '|' || F_ORG_INFO(MAX(DECODE(ROWNUM, 2, ORG_CD, NULL)), '1') FROM TBCORCOR206L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO AND ORG_HIS_DVSN_CD = '1' AND ROWNUM AND A.ACP_YR = #strAcpYr# AND A.RM_CVPT_ACP_NO = #strCvptAcpNo# AND A.REQ_DVSN_CD = #strCvptAcpTp# AND TO_CHAR(A.ACP_DH, 'YYYYMMDD') >= #strStrAcpDt# AND TO_CHAR(A.ACP_DH, 'YYYYMMDD') &lt;= #strEndAcpDt# AND (A.TIT_NM LIKE '%'||#strSchTxt#||'%' OR (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBCORCOR104L WHERE F_ORG_INFO(AUD_TG_ORG_CD, '1') LIKE '%'||#strSchTxt#||'%') ) AND (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBCORCOR104L WHERE AUD_TG_ORG_CD LIKE SUBSTR(#strAudTgOrgCd#, 0, INSTR(#strAudTgOrgCd#, '000') -1) || '%') AND (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBCORCOR104L WHERE AUD_TG_ORG_CD = #strAudTgOrgCd#) AND A.AUD_INF_TRF_DVSN_CD = #strSrchDvsnCd# 민원연계정보 선택 팝업화면에서 사용]--> AND B.YE IS NULL UNION ALL SELECT A.ACP_YR||'-청금-'||A.RM_CVPT_ACP_NO AS ACP_YR_NO , TO_CHAR(A.ACP_DH, 'YYYYMMDD') AS ACP_DT , (SELECT AGGR_CONCAT(F_ORG_INFO(ORG_CD, '1'), ',') FROM TBDCPDCP206L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO AND ORG_HIS_DVSN_CD = '1') AS AUD_TG_ORG_NM , A.TIT_NM , CASE WHEN B.YE IS NOT NULL THEN B.YE||'-'||B.SRNO ELSE '' END AS INF_NO , A.AUD_INF_TRF_DVSN_CD , A.ACP_YR , A.CVPT_ACP_NO , A.REQ_DVSN_CD , B.YE , B.SRNO , (SELECT ORG_CD || '|' || F_ORG_INFO(ORG_CD, '1') FROM TBDCPDCP206L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO AND ORG_HIS_DVSN_CD = '1' AND ROWNUM = 1) AS AUD_TG_ORG_1 , (SELECT MAX(DECODE(ROWNUM, 2, ORG_CD, NULL)) || '|' || F_ORG_INFO(MAX(DECODE(ROWNUM, 2, ORG_CD, NULL)), '1') FROM TBDCPDCP206L WHERE REQ_DVSN_CD = A.REQ_DVSN_CD AND ACP_YR = A.ACP_YR AND CVPT_ACP_NO = A.CVPT_ACP_NO AND ORG_HIS_DVSN_CD = '1' AND ROWNUM AND A.ACP_YR = #strAcpYr# AND A.RM_CVPT_ACP_NO = #strCvptAcpNo# AND A.REQ_DVSN_CD = #strCvptAcpTp# AND TO_CHAR(A.ACP_DH, 'YYYYMMDD') >= #strStrAcpDt# AND TO_CHAR(A.ACP_DH, 'YYYYMMDD') &lt;= #strEndAcpDt# AND (A.TIT_NM LIKE '%'||#strSchTxt#||'%' OR (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBDCPDCP104L WHERE F_ORG_INFO(AUD_TG_ORG_CD, '1') LIKE '%'||#strSchTxt#||'%') ) AND (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBDCPDCP104L WHERE AUD_TG_ORG_CD LIKE SUBSTR(#strAudTgOrgCd#, 0, INSTR(#strAudTgOrgCd#, '000') -1) || '%') AND (A.ACP_YR, A.CVPT_ACP_NO, A.REQ_DVSN_CD) IN (SELECT ACP_YR , CVPT_ACP_NO , REQ_DVSN_CD FROM TBDCPDCP104L WHERE AUD_TG_ORG_CD = #strAudTgOrgCd#) AND A.AUD_INF_TRF_DVSN_CD = #strSrchDvsnCd# 민원연계정보 선택 팝업화면에서 사용]--> AND B.YE IS NULL ORDER BY NVL(INF_NO, '9999-9999') DESC , ACP_YR_NO DESC