SELECT A.DOCNO,
    A.DOCTITLE,
    A.DOCSUMMARY,
    A.READSTATUSRANGE,
    A.OPENSTATUSNAME || CASE WHEN A.OPENSTATUSNAME = '비공개' THEN '(' || A.OPENREASON || ')' ELSE '' END AS OPENSTATUSNAME,
    '관리 : ' || A.PJTCARDNAME || CHAR(13) || '단위 : ' || A.BIZCARDNAME AS PJTCARDNAME,
    B.FILETITLE,
    B.FILEPATH,
    B.FILENAME,
    A.DOCKEYWORD,
    A.REPORT_REPORTDATE,
    A.REPORT_USERNAME,
    A.APPROVAL_APPROVALDATE,
    A.APPROVAL_USERNAME
FROM AM_ONNARA_RESPONSE_DOC A , AM_ONNARA_ATTACH_FILE B WHERE A.REQUESTID *= B.REQUESTID AND A.ADT_RPTP_EDT_HSTRY_SQNO *= B.ADT_RPTP_EDT_HSTRY_SQNO AND A.DOCID *= B.DOCID AND B.FILETYPECD = '3' AND A.REQUESTID = #strRequestId# AND A.ADT_RPTP_EDT_HSTRY_SQNO = convert(numeric, #strSeq#) AND A.DOCID = #strDocId#