SELECT D1.EVL_YR /* 년도 */,
    D1.HLYR_DVSN_CD /* 반기구분 */,
    D1.EVL_GP_CD /* 평가군코드 */,
    D1.EVL_GP_NM /* 평가군명 */,
    NVL(D2.EVLT_CNT, 0) AS EVLT_CNT /* 평가자 인원 */,
    NVL(D3.NEVLT_CNT, 0) AS NEVLT_CNT /* 피평가자 인원 */,
    DECODE(NVL(D3.NEVLT_CNT, 0), '0', 'N', 'Y') AS NEVLT_CNT
FROM TBCSPAOE018M D1 , ( SELECT EVL_YR,
    HLYR_DVSN_CD,
    EVL_GP_CD,
    COUNT(*) AS EVLT_CNT
FROM TBCSPAOE019D GROUP BY EVL_YR, HLYR_DVSN_CD, EVL_GP_CD ) D2 , ( SELECT EVL_YR,
    HLYR_DVSN_CD,
    EVL_GP_CD,
    COUNT(*) AS NEVLT_CNT
FROM TBCSPAOE020D GROUP BY EVL_YR, HLYR_DVSN_CD, EVL_GP_CD ) D3 WHERE D1.EVL_YR = D2.EVL_YR (+) AND D1.HLYR_DVSN_CD = D2.HLYR_DVSN_CD (+) AND D1.EVL_GP_CD = D2.EVL_GP_CD (+) AND D1.EVL_YR = D3.EVL_YR (+) AND D1.HLYR_DVSN_CD = D3.HLYR_DVSN_CD (+) AND D1.EVL_GP_CD = D3.EVL_GP_CD (+) AND D1.EVL_YR = #strEvlYr# AND D1.HLYR_DVSN_CD = #strHlyrDvsnCd# AND D1.EVL_GP_CD = #strEvlGrpCd# ORDER BY D1.EVL_GP_CD