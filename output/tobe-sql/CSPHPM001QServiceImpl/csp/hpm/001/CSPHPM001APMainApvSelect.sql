SELECT ROW_NUMBER() OVER(ORDER BY A.FRST_REGIST_PNTTM DESC) AS ROW_NUMBER,
    '0' AS TOT_CNT,
    '' AS QNA_STATE,
    A.NTT_ID,
    A.NTT_SJ,
    A.FRST_REGISTER_ID,
    NVL(B.USER_NM, A.NTCR_NM) AS USER_NM /* 사용자명 */,
    TO_CHAR(A.FRST_REGIST_PNTTM, 'YYYY-MM-DD') AS TO_CHAR,
    A.CVLPR_EML_ADDR /* 민원인이메일주소 */,
    A.CVLPR_TELNO /* 민원인전화번호 */,
    A.JUSO,
    CASE WHEN A.SUB1 IS NOT NULL AND A.NTT_CN IS NOT NULL AND A.SUB2 IS NOT NULL THEN TO_CLOB(A.SUB1) || CHR(13)||CHR(10) || TO_CLOB(A.NTT_CN) || CHR(13)||CHR(10) ||TO_CLOB(A.SUB2) WHEN A.SUB1 IS NOT NULL AND A.NTT_CN IS NOT NULL AND A.SUB2 IS NULL THEN TO_CLOB(A.SUB1) || CHR(13)||CHR(10) || TO_CLOB(A.NTT_CN) WHEN A.SUB1 IS NOT NULL AND A.NTT_CN IS NULL AND A.SUB2 IS NOT NULL THEN TO_CLOB(A.SUB1) || CHR(13)||CHR(10) || TO_CLOB(A.SUB2) WHEN A.SUB1 IS NULL AND A.NTT_CN IS NOT NULL AND A.SUB2 IS NOT NULL THEN TO_CLOB(A.NTT_CN) || CHR(13)||CHR(10) || TO_CLOB(A.SUB2) WHEN A.SUB1 IS NOT NULL AND A.NTT_CN IS NULL AND A.SUB2 IS NULL THEN TO_CLOB(A.SUB1) WHEN A.SUB1 IS NULL AND A.NTT_CN IS NOT NULL AND A.SUB2 IS NULL THEN TO_CLOB(A.NTT_CN) WHEN A.SUB1 IS NULL AND A.NTT_CN IS NULL AND A.SUB2 IS NOT NULL THEN TO_CLOB(A.SUB2) ELSE TO_CLOB('') END AS SUB1,
    A.RDCNT,
    A.CATEGORY,
    A.PARNTSCTT_NO,
    A.ANSWER_AT,
    A.ANSWER_LC,
    A.USE_AT,
    A.CVLCPT_DOC_ID /* 민원문서아이디 */,
    A.BBS_ID /* 게시판아이디 */,
    RTRIM(A.NTCE_BGNDE) AS RTRIM,
    RTRIM(A.NTCE_ENDDE) AS RTRIM,
    A.NTCR_NM,
    A.REL_INST_CD /* 관계기관코드 */,
    F_ORG_INFO(A.REL_INST_CD,'1') AS F_ORG_INFO,
    CASE WHEN A.ORG_REGI_YN='Y' THEN '등록' ELSE '미등록' END AS ORG_REGI_YN,
    A.ATRZ_STTS_SECD /* 결재상태구분코드 */,
    A.ATRZ_DOC_NO /* 결재문서번호 */,
    F_CODE_NM('1000920',A.PRCS_SECD) AS F_CODE_NM,
    A.INSTITUTION,
    A.PRCS_SECD /* 처리구분코드 */,
    '' AS QNA_STATE_NM,
    A.QNA_ANSWER
FROM TBCSPTSM002L a LEFT OUTER JOIN TBDCMACM001M b ON A.FRST_REGISTER_ID = B.USER_ID WHERE BBS_ID='BBSMSTR_100000000032' AND A.USE_AT = 'Y' AND A.NTT_ID IN #parentKey[]# AND A.ATRZ_DOC_NO = #ATRZ_DOC_NO#