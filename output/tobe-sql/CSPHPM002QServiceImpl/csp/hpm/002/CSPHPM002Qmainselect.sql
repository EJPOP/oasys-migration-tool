SELECT A.NTT_ID,
    A.NTT_SJ,
    A.FRST_REGISTER_ID,
    NVL(B.USER_NM, A.NTCR_NM) AS USER_NM /* 사용자명 */,
    A.SORT_ORDR,
    A.PARNTSCTT_NO,
    TO_CHAR(A.FRST_REGIST_PNTTM, 'YYYY-MM-DD') AS TO_CHAR,
    A.CVLPR_EML_ADDR /* 민원인이메일주소 */,
    A.CVLPR_TELNO /* 민원인전화번호 */,
    A.JUSO,
    A.SUB1,
    A.SUB2,
    A.QNA_ANSWER,
    A.RDCNT,
    A.NTT_CN,
    A.CATEGORY,
    A.ANSWER_AT,
    A.ANSWER_LC,
    A.USE_AT,
    A.CVLCPT_DOC_ID /* 민원문서아이디 */,
    A.LAST_UPDT_PNTTM,
    A.BBS_ID /* 게시판아이디 */,
    RTRIM(A.NTCE_BGNDE) AS RTRIM,
    RTRIM(A.NTCE_ENDDE) AS RTRIM,
    A.NTCR_NM
FROM TBCSPTSM002L a LEFT OUTER JOIN TBDCMACM001M b ON A.FRST_REGISTER_ID = B.USER_ID WHERE BBS_ID='BBSMSTR_100000000033' AND A.USE_AT = 'Y' AND A.NTT_SJ LIKE '%' || #strSearchBox# || '%' AND A.NTT_CN LIKE '%' || #strSearchBox# || '%' AND A.NTCR_NM LIKE '%' || #strSearchBox# || '%' AND SUBSTR(A.FRST_REGIST_PNTTM,1,4) = #strYr# AND (TO_CHAR(A.FRST_REGIST_PNTTM,'YYYYMMDD') >= #strFRST_REGIST_PNTTMS# OR A.FRST_REGIST_PNTTM IS NULL) AND (TO_CHAR(A.FRST_REGIST_PNTTM,'YYYYMMDD')