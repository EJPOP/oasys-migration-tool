SELECT CVLCPT_RCPT_YR || '-' || MONTH AS CVLCPT_RCPT_YR /* 민원접수년도 */,
    COUNT(MONTH) AS MONTH,
    COUNT(DECODE(KLD_STA_CD, '6', '유통')) AS KLD_STA_CD,
    COUNT(DECODE(KLD_STA_CD, '7', '만기')) AS KLD_STA_CD,
    COUNT(DECODE(KLD_STA_CD, '8', '폐기')) AS KLD_STA_CD
FROM ( SELECT TO_CHAR(TO_DATE(REG_DMND_YMD), 'YYYY') AS CVLCPT_RCPT_YR /* 민원접수년도 */,
    TO_CHAR(TO_DATE(REG_DMND_YMD), 'MM') AS TO_CHAR,
    KNB,
    KLD_STA_CD,
    KLD_CAT_CD,
    REG_DMND_YMD /* 등록요청일자 */
FROM TBAEPGKM001M ) WHERE 1=1 AND KLD_CAT_CD = #KLD_CAT_CD# TO_NUMBER(SUBSTR(REG_DMND_YMD, 1, 6)) >= TO_NUMBER(#FROM_DATE#) TO_NUMBER(SUBSTR(REG_DMND_YMD, 1, 6)) GROUP BY CVLCPT_RCPT_YR, MONTH ORDER BY TO_NUMBER(CVLCPT_RCPT_YR) DESC, TO_NUMBER(MONTH) DESC;