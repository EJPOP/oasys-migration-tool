SELECT D.SALL_CAT_TIT_NM /* 과제명 */,
    F_DPT_INFO(D.CHR_DPT_CD, '1') AS CNSTN_MBCMT_DEPT_NM /* 자문위원부서명 */,
    F_USR_INFO(D.PIC_ID, '2') AS PIC_NM /* 담당자명 */,
    D.INFO_YR AS INFO_YR /* 정보년도 */,
    D.SALL_CAT_SNO AS SALL_CAT_SNO,
    D.REG_YMD /* 등록일자 */,
    (SELECT AS MAIN_PLCY_DTL_TXT
FROM TBBADCMR004D WHERE INFO_YR = #INFO_YR# AND SALL_CAT_SNO=D.SALL_CAT_SNO AND MAIN_PLCY_DTL_DVSN_CD ='b' AND REG_YMD = D.REG_YMD) AS MAIN_PLCY_DTL_TXT , LAG_CAT_TIT_NM /*대분류 명*/ , MID_CAT_TIT_NM /*중분류명*/ , SUBJ_NO /*과제번호*/ FROM ( SELECT A.SALL_CAT_TIT_NM /* 과제명 */,
    A.CHR_DPT_CD /* 담당부서 */,
    A.PIC_ID /* 담당자아이디 */,
    MAX(B.REG_YMD) AS REG_YMD /* 등록일자 */,
    (SELECT AS LAG_CAT_TIT_NM
FROM TBBADCMR001M WHERE INFO_YR = #INFO_YR# AND LAG_CAT_SNO = A.LAG_CAT_SNO) AS LAG_CAT_TIT_NM /*대분류 명*/ , (SELECT MID_CAT_TIT_NM
FROM TBBADCMR002M WHERE INFO_YR = #INFO_YR# AND LAG_CAT_SNO = A.LAG_CAT_SNO AND MID_CAT_SNO = A.MID_CAT_SNO) AS MID_CAT_TIT_NM /*중분류명*/ , A.INFO_YR || '-' || A.LAG_CAT_SNO || '-' || A.MID_CAT_SNO || '-' || A.SALL_CAT_SNO AS SUBJ_NO /*과제번호*/ , A.SALL_CAT_SNO , A.INFO_YR FROM TBBADCMR003M A , TBBADCMR004D B WHERE A.INFO_YR = B.INFO_YR (+) AND A.SALL_CAT_SNO = B.SALL_CAT_SNO (+) AND A.INFO_YR = #INFO_YR# AND A.SALL_CAT_SNO IN #strSnoArrayList[]# AND B.MAIN_PLCY_DTL_DVSN_CD (+) = 'b' /*모니터링결과*/ GROUP BY A.SALL_CAT_TIT_NM, A.CHR_DPT_CD, A.PIC_ID, A.LAG_CAT_SNO, A.MID_CAT_SNO,A.INFO_YR,A.SALL_CAT_SNO )D ORDER BY D.SALL_CAT_SNO