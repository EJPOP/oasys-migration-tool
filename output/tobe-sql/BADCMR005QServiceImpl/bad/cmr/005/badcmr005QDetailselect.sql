SELECT A.INFO_YR||'-'||A.LAG_CAT_SNO||'-'||A.MID_CAT_SNO||'-'||A.SALL_CAT_SNO AS CTGRY_NO /* 범주번호 */,
    A.INFO_YR /* 정보년도 */,
    A.SALL_CAT_SNO,
    A.LAG_CAT_SNO /* 정책목표 */,
    C.LAG_CAT_TIT_NM,
    A.MID_CAT_SNO /* 중분류번호 */,
    B.MID_CAT_TIT_NM,
    A.SALL_CAT_TIT_NM /* 소분류제목 */,
    A.SALL_CAT_TXT,
    A.CHR_DPT_CD,
    F_DPT_INFO(A.CHR_DPT_CD,'1') AS TKCG_DEPT_NM /* 담당부서명 */,
    A.PIC_ID /* 담당자아이디 */,
    F_USR_INFO(A.PIC_ID,'2') AS PIC_NM /* 담당자명 */,
    A.CMPTN_YN /* 완료여부 */,
    A.REG_YMD /* 등록일자 */,
    A.RGTR_ID /* 등록자아이디 */,
    A.MDFCN_YMD /* 수정일자 */,
    A.MDFCN_PIC_ID /* 수정담당자아이디 */,
    A.DEL_YN /* 삭제여부 */,
    (select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0101' ) QT1_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0401' ) QT2_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0701' ) QT3_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'1001' ) QT4_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0101' ) MONTH1_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0201' ) MONTH2_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0301' ) MONTH3_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0401' ) MONTH4_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0501' ) MONTH5_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0601' ) MONTH6_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0701' ) MONTH7_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0801' ) MONTH8_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'0901' ) MONTH9_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'1001' ) MONTH10_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'1101' ) MONTH11_PLCY_MDF_DH ,(select max(PLCY_MDF_DH)
from TBBADCMR004D where INFO_YR = A.INFO_YR and SALL_CAT_SNO = A.SALL_CAT_SNO and REG_YMD like #INFO_YR#||'1201' ) MONTH12_PLCY_MDF_DH ,D.USER_NM AS CHRG_PSON_NM , A.CPR_CHGR_ID , F_USR_INFO(A.CPR_CHGR_ID,'2')AS CPR_CHGR_NM , A.CPR_DPT_CD , F_DPT_INFO(A.CPR_DPT_CD,'1') AS CPR_DPT_NM , A.STD_CHGR_ID , F_USR_INFO(A.STD_CHGR_ID,'2')AS STD_CHGR_NM , A.STD_DPT_CD , F_DPT_INFO(A.STD_DPT_CD,'1') AS STD_DPT_NM ,NVL(A.EPS_MNG_YN,'N') AS EPS_MNG_YN FROM TBBADCMR003M A , TBDCMACM001M D , TBBADCMR002M B , TBBADCMR001M C WHERE D.BAI_USR_YN = 'Y' AND A.PIC_ID = D.TRGT_NOP_ENO(+) AND A.PIC_ID = D.TRGT_NOP_ENO(+) AND A.LAG_CAT_SNO = B.LAG_CAT_SNO AND A.MID_CAT_SNO = B.MID_CAT_SNO AND A.INFO_YR =B.INFO_YR AND A.LAG_CAT_SNO = C.LAG_CAT_SNO AND A.INFO_YR =C.INFO_YR AND A.INFO_YR = #INFO_YR# AND A.LAG_CAT_SNO = #strLagCatSno# AND A.MID_CAT_SNO = #strMidCatSno# AND A.SALL_CAT_TIT_NM LIKE '%'||#strSalTit#||'%' AND A.PIC_ID = #PIC_ID# AND A.CMPTN_YN LIKE #strYn#||'%' AND A.CHR_DPT_CD = #strDptCd# AND A.CHR_DPT_CD LiKE #strLikeDptCd#||'%' AND NVL(A.EPS_MNG_YN,'N') = #strEPS_MNG_YN# ORDER BY A.INFO_YR, CASE WHEN A.INFO_YR ='2017' AND A.SALL_CAT_SNO < 187 THEN 1 ELSE 0 END, A.SALL_CAT_SNO