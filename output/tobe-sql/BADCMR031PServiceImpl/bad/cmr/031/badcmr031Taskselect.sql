SELECT T1.INFO_YR /* 정보년도 */,
    T1.TASK_SNO,
    T1.INFO_YR ||'-'|| T1.TASK_SNO AS INFO_YR /* 정보년도 */,
    TASK_TIT_NM,
    TASK_TXT,
    CHR_DPT_CD,
    F_DPT_INFO (CHR_DPT_CD,'1') AS CNSTN_MBCMT_DEPT_NM /* 자문위원부서명 */,
    T2.CHGR_ID_1 AS PIC_ID,
    F_USR_INFO(T2.CHGR_ID_1,'2') AS PIC_NM /* 담당자명 */,
    INST_CD /* 기관코드 */,
    (SELECT F_ORG_INFO(MIN(INST_CD), '1') || CASE WHEN COUNT(1) > 1 THEN ' 외 ' || (COUNT(1) - 1) ELSE '' AS F_ORG_INFO
FROM TBBADCMR017L WHERE INFO_YR = T1.INFO_YR AND TASK_SNO = T1.TASK_SNO GROUP BY INFO_YR ,TASK_SNO) AS PROF_RBPRSN_INST_NM , CMPTN_YN , T2.CHGR_ID_1 , F_USR_INFO(T2.CHGR_ID_1,'2') AS CHGR_NM_1 , T2.CHGR_ID_2 , F_USR_INFO(T2.CHGR_ID_2,'2') AS CHGR_NM_2 , T2.CHGR_ID_3 , F_USR_INFO(T2.CHGR_ID_3,'2') AS CHGR_NM_3 FROM TBBADCMR016M T1 ,(SELECT INFO_YR /* 정보년도 */,
    TASK_SNO,
    MAX(CASE WHEN ROW_CNT = 1 THEN PIC_ID ELSE '' END) AS ROW_CNT,
    MAX(CASE WHEN ROW_CNT = 2 THEN PIC_ID ELSE '' END) AS ROW_CNT,
    MAX(CASE WHEN ROW_CNT = 3 THEN PIC_ID ELSE '' END) AS ROW_CNT
FROM ( SELECT INFO_YR /* 정보년도 */,
    TASK_SNO,
    ROW_NUMBER() OVER(PARTITION BY INFO_YR, TASK_SNO ORDER BY PIC_ID ASC) AS ROW_NUMBER,
    PIC_ID /* 담당자아이디 */
FROM TBBADCMR021L ) GROUP BY INFO_YR ,TASK_SNO) T2 WHERE 1=1 AND T1.INFO_YR = T2.INFO_YR(+) AND T1.TASK_SNO = T2.TASK_SNO(+) AND T1.INFO_YR = #INFO_YR# T1.TASK_SNO = #strTaskSno#