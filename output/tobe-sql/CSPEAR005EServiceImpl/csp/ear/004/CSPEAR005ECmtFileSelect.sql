WITH BASE AS ( SELECT CLM_SECD /* 청구구분코드 */,
    CVLCPT_RCPT_YR /* 민원접수년도 */,
    CVLCPT_RCPT_RCPT /* 민원접수번호 */,
    (SELECT AS CVLCPT_DOC_ID /* 민원문서아이디 */
FROM TB_CSPEAR004M WHERE CLM_DOC_KDCD = '3' AND ROWNUM = 1) AS CMT_DOC_ID_1 ,(SELECT CVLCPT_DOC_ID /* 민원문서아이디 */
FROM TB_CSPEAR004M WHERE CLM_DOC_KDCD = '4' AND ROWNUM = 1) AS CMT_DOC_ID_2 ,(SELECT CVLCPT_DOC_ID /* 민원문서아이디 */
FROM TB_CSPEAR004M WHERE CLM_DOC_KDCD = '5' AND ROWNUM = 1) AS CMT_DOC_ID_3 FROM (SELECT #CLM_SECD# AS CLM_SECD /* 청구구분코드 */,
    #CVLCPT_RCPT_YR# AS CVLCPT_RCPT_YR /* 민원접수년도 */,
    #CVLCPT_RCPT_RCPT# AS CVLCPT_RCPT_RCPT /* 민원접수번호 */
FROM DUAL ) ) SELECT A.CLM_YR /* 청구년도 */,
    A.CLM_RCPT_NO /* 청구접수번호 */,
    A.CLM_SECD /* 청구구분코드 */,
    C.CMT_DOC_ID_1,
    C.CMT_DOC_ID_2,
    C.CMT_DOC_ID_3 /* ,(SELECT X.FILE_NAME FROM ECM_FILE_LIST_VIEW2 X WHERE C.CMT_DOC_ID_1 = X.DOC_ID AND ROWNUM = 1 ) AS FILE_NAME_1 ,(SELECT X.FILE_NAME FROM ECM_FILE_LIST_VIEW2 X WHERE C.CMT_DOC_ID_2 = X.DOC_ID AND ROWNUM = 1 ) AS FILE_NAME_2 ,(SELECT X.FILE_NAME FROM ECM_FILE_LIST_VIEW2 X WHERE C.CMT_DOC_ID_3 = X.DOC_ID AND ROWNUM = 1 ) AS FILE_NAME_3 */,
    '' AS FILE_NAME_1,
    '' AS FILE_NAME_2,
    '' AS FILE_NAME_3
FROM TB_CSPEAR001M A ,TB_CSPDCP101M B ,BASE C WHERE A.CLM_SECD = #CLM_SECD# AND A.CVLCPT_RCPT_YR = #CVLCPT_RCPT_YR# AND A.CVLCPT_RCPT_RCPT = #CVLCPT_RCPT_RCPT# AND A.CLM_SECD = B.CVLCPT_CLM_SECD AND A.CVLCPT_RCPT_YR = B.TPOF_RCPT_YR AND A.CVLCPT_RCPT_RCPT = B.TPOF_RCPT_NO AND A.CLM_SECD = C.CLM_SECD(+) AND A.CVLCPT_RCPT_YR = C.CVLCPT_RCPT_YR(+) AND A.CVLCPT_RCPT_RCPT = C.CVLCPT_RCPT_RCPT(+)