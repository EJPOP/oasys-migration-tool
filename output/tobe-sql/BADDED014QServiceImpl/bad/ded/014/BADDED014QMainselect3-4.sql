SELECT F_CODE_NM('1000023',RGN_SECD) AS F_CODE_NM,
    SUM(TE.ADT_DCN) AS ADT_DCN /* 감사일수 */,
    SUM(TE.BZTRP_TRVEXP_FDEXP)+ SUM(TE.BTEXP_CRTR_AMT) + SUM(TE.LDG_CST) AS BZTRP_TRVEXP_FDEXP /* 출장여비식비 */,
    NVL(SUM(TFD.RL_FARE_AMT), 0) + NVL(SUM(TE.CPRG_FARE_CST), 0) AS RL_FARE_AMT /* 철도운임금액 */,
    /* 수도권운임 추가 - 2015.05.11 yyh */ SUM(TE.BZTRP_TRVEXP_FDEXP)+ SUM(TE.BTEXP_CRTR_AMT) + SUM(TE.LDG_CST) + NVL(SUM(TFD.RL_FARE_AMT), 0) + NVL(SUM(TE.CPRG_FARE_CST), 0) AS BZTRP_TRVEXP_FDEXP /* 출장여비식비 */
FROM TB_BADDED011L TE, (SELECT BZTRP_YR /* 출장년도 */,
    BZTRP_SQNO /* 출장순번 */,
    BZTRVR_ENO /* 출장자직원전산번호 */,
    BTEXP_SQNO /* 출장비순번 */,
    CAL_YN /* 계산여부 */,
    SUM(RL_FARE_AMT) AS RL_FARE_AMT /* 철도운임금액 */
FROM TBBADDED017L WHERE BZTRP_YR = #BZTRP_YR# AND BZTRP_SQNO = #BZTRP_SQNO# GROUP BY BZTRP_YR, BZTRP_SQNO, BZTRVR_ENO, BTEXP_SQNO, CAL_YN ) TFD WHERE TE.BZTRP_YR = #BZTRP_YR# AND TE.BZTRP_SQNO = #BZTRP_SQNO# AND TE.CAL_YN = 'N' AND TFD.BZTRP_YR(+) = TE.BZTRP_YR AND TFD.BZTRP_SQNO(+) = TE.BZTRP_SQNO AND TFD.BZTRVR_ENO(+) = TE.BZTRVR_ENO AND TFD.BTEXP_SQNO(+) = TE.BTEXP_SQNO AND TFD.CAL_YN(+) = TE.CAL_YN GROUP BY TE.RGN_SECD ORDER BY 1