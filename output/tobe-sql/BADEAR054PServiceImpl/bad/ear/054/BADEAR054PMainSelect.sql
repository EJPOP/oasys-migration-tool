SELECT T1.DCSEXP_YR || '-' || T1.DCSEXP_NO AS DCSEXP_YR /* 결정례연번호 */,
    T1.DCSEXP_YR AS DCSEXP_YR /* 결정례년도 */,
    T1.DCSEXP_NO AS DCSEXP_NO /* 결정례순번 */,
    T1.DCSEXP_TIT_NM AS DCSEXP_TIT_NM /* 결정례제목 */,
    T1.DCS_SBT AS DCS_SBT /* 결정요지 */,
    TO_CHAR(TO_DATE(T1.REG_YMD),'YYYY-MM-DD') AS REG_YMD /* 등록일자 */,
    T1.INN_DOC_ID AS INN_DOC_ID /* 내부문서ID */,
    T1.OPEN_DOC_ID AS OPEN_DOC_ID /* 공개문서ID */,
    T1.CVLCPT_ADT_YR AS CVLCPT_ADT_YR /* 민원감사년도 */,
    T1.ADT_NO AS ADT_NO /* 감사번호 */,
    T2.ADT_GRNT_NO AS ADT_GRNT_NO /* 감사부여번호 */,
    T1.DSPS_RQT_SQNO AS DSPS_RQT_SQNO /* 처분요구순번 */,
    T2.ADT_MTTR_NM AS ADT_MTTR_NM /* 감사사항명 */,
    T2.SPRVSN_DEPT_CD AS SPRVSN_DEPT_CD /* 주관부서코드 */,
    F_DPT_INFO(T2.SPRVSN_DEPT_CD,'1') AS F_DPT_INFO /* 주관부서명 */,
    T3.DSPS_RQT_KDCD AS DSPS_RQT_KDCD /* 처분요구종류코드 */,
    F_CODE_NM('1000002',T3.DSPS_RQT_KDCD ) AS DSPS_RQT_KND_CVN /* 처분요구종류코드값명 */,
    T3.DSPS_RQT_NM AS DSPS_RQT_NM /* 처분요구명 */,
    CASE WHEN T2.ADT_YR >= '2016' THEN F_CODE_NM('1000739',SUBSTR(T2.ADT_KDCD,3,1)) ELSE '-' END AS ADT_YR /* 감사년도 */,
    F_MNG_KND_AUDYRNO(T2.ADT_YR, T2.ADT_NO, '', '-') || '-' || T1.DSPS_RQT_SQNO AS ADT_CLSF_NO /* 감사분류번호 */,
    CASE WHEN T4.REL_INST_CD IS NOT NULL THEN F_ORG_INFO(T4.REL_INST_CD,'1')||'외 '||T5.CNT ELSE '' END AS REL_INST_NM /* 관계기관명 */
FROM TBBADEAR034M T1 ,TB_BADDED001M T2 ,TB_BADEAR001M T3 ,TB_BADEAR002D T4 ,(SELECT CVLCPT_ADT_YR /* 민원감사년도 */,
    ADT_NO /* 감사번호 */,
    DSPS_RQT_SQNO /* 처분요구순번 */,
    COUNT(1)-1 AS 1
FROM TBBADEAR006M GROUP BY CVLCPT_ADT_YR, ADT_NO, DSPS_RQT_SQNO ) T5 WHERE 1=1 AND T1.CVLCPT_ADT_YR = T2.ADT_YR AND T1.ADT_NO = T2.ADT_NO AND T1.CVLCPT_ADT_YR = T3.ADT_YR AND T1.ADT_NO = T3.ADT_NO AND T1.DSPS_RQT_SQNO = T3.DSPS_RQT_SQNO AND T1.CVLCPT_ADT_YR = T4.ADT_YR AND T1.ADT_NO = T4.ADT_NO AND T1.DSPS_RQT_SQNO = T4.DSPS_RQT_SQNO AND T1.CVLCPT_ADT_YR = T5.CVLCPT_ADT_YR AND T1.ADT_NO = T5.ADT_NO AND T1.DSPS_RQT_SQNO = T5.DSPS_RQT_SQNO AND T1.CVLCPT_ADT_YR = #CVLCPT_ADT_YR# AND T1.ADT_NO = #ADT_NO# AND T1.DSPS_RQT_SQNO = #DSPS_RQT_SQNO#